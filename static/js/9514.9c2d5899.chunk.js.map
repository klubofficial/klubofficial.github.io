{"version":3,"file":"static/js/9514.9c2d5899.chunk.js","mappings":"kQAmBA,MAiEA,EAjEqCA,KAAO,IAADC,EACzC,MAAOC,EAAOC,IAAYC,EAAAA,EAAAA,UAAiB,KACpCC,EAAiBC,IAAsBF,EAAAA,EAAAA,UAAmB,KAC1DG,EAAmBC,IAAwBJ,EAAAA,EAAAA,UAAiB,KAC5DK,EAAYC,IAAiBN,EAAAA,EAAAA,UAA+B,IAE7DO,GAASC,EAAAA,EAAAA,OACT,gBAAEC,IAAoBC,EAAAA,EAAAA,MAStBC,GAAWC,EAAAA,EAAAA,MACXC,EAASC,OAAOP,EAAOQ,IACvBC,EAAiB,QAAbnB,EAAGc,WAAU,IAAAd,OAAA,EAAVA,EAAYoB,MAAMC,QAAQC,GAAyBA,EAAEJ,KAAOF,IAAQ,IACzEO,KAAMC,IAAYC,EAAAA,EAAAA,IAAcT,GAElCU,GAA2BC,EAAAA,EAAAA,IAAoB,CACnDX,SACAf,MAAOA,EACP2B,MAAOxB,EACPE,kBAAmBA,EACnBuB,KAAMV,EAAKU,KACXC,SAAUX,EAAKW,SACftB,WAAYA,IAGRuB,EAAeC,UACf/B,EAAMgC,OAAS,GACjBrB,EAAgB,oGAA0B,CAAEsB,QAAS,UAGvDR,EAAyBS,aAAa,EAGxC,OACEC,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,EAAG,EAAEC,SAAA,EACRC,EAAAA,EAAAA,KAACC,EAAAA,GAAM,CAAAF,UACLC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,iCAETH,EAAAA,EAAAA,MAACM,EAAAA,EAAI,CAAAH,SAAA,CACFnC,IACCoC,EAAAA,EAAAA,KAACG,EAAAA,EAAc,CACb1C,MAAOA,EACP2C,YAvCW3C,IACnBC,EAASD,EAAM,EAuCPK,kBAAmBA,EACnBuC,wBAtCuBvC,IAC/BC,EAAqBD,EAAkB,EAsC/BkB,QAAgB,OAAPA,QAAO,IAAPA,EAAAA,EAAW,GACpBpB,gBAAiBA,EACjBC,mBAAoBA,EACpBG,WAAYA,EACZsC,iBAAkBrC,EAClBsB,aAAcA,KAGlBS,EAAAA,EAAAA,KAACO,EAAAA,EAAgB,CAAChB,aAAcA,SAE9B,C","sources":["content/manage/Conference/ConferenceRegister/index.tsx"],"sourcesContent":["import { useSnackbar } from 'notistack'\nimport { useState } from 'react'\nimport { useAuthUser } from 'react-auth-kit'\nimport { Helmet } from 'react-helmet-async'\nimport { useParams } from 'react-router-dom'\n\nimport { Box, Card } from '@mui/material'\n\nimport { type ConferenceCategory } from 'src/data/conferenceCategories'\n\nimport type { ClubMemberForAuth } from 'src/models/clubMember'\n\nimport CancelSubmitBtns from 'src/components/CancelSubmitBtns'\n\nimport ConferenceInfo from 'src/content/manage/Conference/ConferenceEdit/ConferenceInfo'\n\nimport { useCreateConference } from 'src/hooks/api/clubConferenceHooks'\nimport { useGetMembers } from 'src/hooks/api/member'\n\nconst ConferenceRegister: React.FC = () => {\n  const [title, setTitle] = useState<string>('')\n  const [selectedMembers, setSelectedMembers] = useState<number[]>([])\n  const [participantTarget, setparticipantTarget] = useState<string>('')\n  const [categories, setCategories] = useState<ConferenceCategory[]>([])\n\n  const params = useParams()\n  const { enqueueSnackbar } = useSnackbar()\n\n  const changeTitle = (title: string) => {\n    setTitle(title)\n  }\n  const changeParticipantTarget = (participantTarget: string) => {\n    setparticipantTarget(participantTarget)\n  }\n\n  const authUser = useAuthUser()\n  const clubId = Number(params.id)\n  const club = authUser()?.clubs.filter((c: ClubMemberForAuth) => c.id === clubId)[0] as ClubMemberForAuth\n  const { data: members } = useGetMembers(clubId)\n\n  const createConferenceMutation = useCreateConference({\n    clubId,\n    title: title,\n    users: selectedMembers,\n    participantTarget: participantTarget,\n    year: club.year,\n    semester: club.semester,\n    categories: categories\n  })\n\n  const handleSubmit = async () => {\n    if (title.length > 50) {\n      enqueueSnackbar('행사명은 50자 이내로 작성해 주십시오.', { variant: 'error' })\n      return\n    }\n    createConferenceMutation.mutateAsync()\n  }\n\n  return (\n    <Box m={3}>\n      <Helmet>\n        <title>활동 기록</title>\n      </Helmet>\n      <Card>\n        {selectedMembers && (\n          <ConferenceInfo\n            title={title}\n            changeTitle={changeTitle}\n            participantTarget={participantTarget}\n            changeParticipantTarget={changeParticipantTarget}\n            members={members ?? []}\n            selectedMembers={selectedMembers}\n            setSelectedMembers={setSelectedMembers}\n            categories={categories}\n            changeCategories={setCategories}\n            handleSubmit={handleSubmit}\n          />\n        )}\n        <CancelSubmitBtns handleSubmit={handleSubmit} />\n      </Card>\n    </Box>\n  )\n}\n\nexport default ConferenceRegister\n"],"names":["ConferenceRegister","_authUser","title","setTitle","useState","selectedMembers","setSelectedMembers","participantTarget","setparticipantTarget","categories","setCategories","params","useParams","enqueueSnackbar","useSnackbar","authUser","useAuthUser","clubId","Number","id","club","clubs","filter","c","data","members","useGetMembers","createConferenceMutation","useCreateConference","users","year","semester","handleSubmit","async","length","variant","mutateAsync","_jsxs","Box","m","children","_jsx","Helmet","Card","ConferenceInfo","changeTitle","changeParticipantTarget","changeCategories","CancelSubmitBtns"],"sourceRoot":""}