"use strict";(self.webpackChunkklub=self.webpackChunkklub||[]).push([[34],{86279:function(e,n,t){var r=t(16871),i=t(67414),c=t(36151),u=t(80184);n.Z=function(e){var n=e.handleSubmit,t=e.handleCancel,a=e.displayCancelBtn,l=void 0===a||a,o=e.submitBtnText,s=void 0===o?"\ub4f1\ub85d":o,d=e.cancelBtnText,f=void 0===d?"\ucde8\uc18c":d,h=(0,r.s0)();return(0,u.jsxs)(i.Z,{mt:2,pb:2,direction:"row",spacing:2,justifyContent:"center",children:[l&&(0,u.jsx)(c.Z,{color:"error",variant:"outlined",sx:{width:"50%",maxWidth:"120px"},onClick:function(e){void 0===t?h(-1):t(e)},children:f}),(0,u.jsx)(c.Z,{color:"success",variant:"contained",onClick:n,sx:{width:"50%",maxWidth:"120px"},children:s})]})}},40610:function(e,n,t){var r=t(1413),i=t(93433),c=t(29439),u=t(31243),a=t(72791),l=t(21293),o=t(16871),s=t(69608),d=t(61889),f=t(64554),h=t(20890),x=t(27391),m=t(94454),v=t(39281),Z=t(79836),p=t(56890),g=t(35855),j=t(53994),b=t(53382),y=t(67414),k=t(81918),w=t(12659),S=t(80184);n.Z=function(e){var n=e.title,t=e.changeTitle,y=e.date,k=e.changeDate,A=e.selectedMembers,C=e.selectAllMembers,L=e.selectOneMember,E=e.deleteOneMember,I=e.selectAllLevelMember,W=e.deleteAllLevelMember,O=(0,a.useState)([]),B=(0,c.Z)(O,2),T=B[0],D=B[1],H=(0,a.useState)([]),P=(0,c.Z)(H,2),R=P[0],Y=P[1],q=(0,a.useState)([]),z=(0,c.Z)(q,2),F=z[0],U=z[1],N=(0,a.useState)(!0),$=(0,c.Z)(N,2),G=$[0],J=$[1],K=(0,o.UO)(),Q=(0,l.cl)(),V=(0,a.useRef)(null),X=(0,a.useState)(0),_=(0,c.Z)(X,2),ee=_[0],ne=_[1],te=Math.ceil(87*R.length/(ee-76)),re=Math.ceil((ee-76)/87);(0,a.useEffect)((function(){u.Z.get("".concat("https://dev.api.klub.kr","/club/").concat(K.id,"/member"),{headers:{Authorization:Q()}}).then((function(e){var n=e.data.filter((function(e){return null===e.deletedAt&&null===e.firedAt})),t=n;t.sort((function(e,n){return e.name<n.name?-1:1})),D(t);var r=Array.from(new Set(n.filter((function(e){return null!==e.level})).map((function(e){return e.level})))).sort();Y(r)}))}),[]),(0,a.useEffect)((function(){var e;ne((null===(e=V.current)||void 0===e?void 0:e.clientWidth)||450)}),[]),(0,a.useEffect)((function(){window.addEventListener("resize",ie)}),[]);var ie=function(){V.current&&ne(V.current.clientWidth)},ce=A.length>0&&A.length<T.length,ue=A.length===T.length;return(0,S.jsxs)(d.ZP,{container:!0,sx:{justifyContent:"center"},children:[(0,S.jsx)(d.ZP,{item:!0,xs:12,md:6,children:(0,S.jsxs)(f.Z,{padding:{xs:3,md:6},paddingBottom:{xs:0},children:[(0,S.jsx)(h.Z,{variant:"h4",color:w.r.colors.primary.main,sx:{margin:"20px 0px"},children:"\ud589\uc0ac\uba85"}),(0,S.jsx)(x.Z,{required:!0,id:"title",label:"\ud589\uc0ac\uba85",value:n,onChange:function(e){return t(e.target.value)},fullWidth:!0}),(0,S.jsx)(h.Z,{variant:"h4",color:w.r.colors.primary.main,sx:{margin:"20px 0px"},children:"\ud589\uc0ac\uc77c"}),(0,S.jsx)(s.O,{label:"\ud589\uc0ac\uc77c",inputFormat:"yyyy/MM/dd",value:y,onChange:function(e){k(e)},renderInput:function(e){return(0,S.jsx)(x.Z,(0,r.Z)((0,r.Z)({},e),{},{sx:{width:"100%"}}))}})]})}),(0,S.jsx)(d.ZP,{item:!0,xs:12,md:6,children:(0,S.jsxs)(f.Z,{padding:{xs:3,md:6},children:[(0,S.jsxs)(f.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",mt:1,children:[(0,S.jsx)(h.Z,{variant:"h4",color:w.r.colors.primary.main,display:"inline-block",children:"\ucc38\uc5ec\uc778\uc6d0"}),(0,S.jsxs)(f.Z,{children:[(0,S.jsx)(h.Z,{display:"inline-block",variant:"body1",children:"\ud734\ud68c\uc6d0 \ud3ec\ud568"}),(0,S.jsx)(m.Z,{sx:{padding:"5px"},checked:G,onChange:function(e){J((function(){return e.target.checked}))}})]})]}),(0,S.jsx)(v.Z,{sx:{maxHeight:"45vh",overflow:"scroll"},ref:V,children:(0,S.jsxs)(Z.Z,{stickyHeader:!0,children:[(0,S.jsx)(p.Z,{children:(0,S.jsxs)(g.Z,{children:[(0,S.jsx)(j.Z,{padding:"checkbox",children:(0,S.jsx)(m.Z,{color:"primary",checked:ue,indeterminate:ce,onChange:function(e){C(e,T),U(e.target.checked?R:[])}})}),(0,S.jsx)(j.Z,{children:R?M(te,re,87,R,(function(e){var n=T.filter((function(n){return n.level===e})).map((function(e){return e.id})).every((function(e){return A.includes(e)}));return F.includes(e)&&n}),(function(e){var n=T.filter((function(n){return n.level===e})).map((function(e){return e.id}));if(!F.includes(e))return U((function(n){return[].concat((0,i.Z)(n),[e])})),void I(n);U((function(n){return n.filter((function(n){return n!==e}))})),W(n)})):"\uc774\ub984 | \ub4f1\uae09"})]})}),(0,S.jsx)(b.Z,{children:T&&T.map((function(e){if(G||!e.isPaused){var n=A.includes(e.id);return(0,S.jsxs)(g.Z,{hover:!0,selected:n,children:[(0,S.jsx)(j.Z,{padding:"checkbox",children:(0,S.jsx)(m.Z,{color:"primary",checked:n,onChange:function(n){return function(e,n){var t=T.filter((function(e){return e.id===n})).map((function(e){return e.level}))[0];if(!A.includes(n))return U((function(e){return Array.from(new Set([].concat((0,i.Z)(e),[t])))})),void L(n);1===T.filter((function(e){return e.level===t&&A.includes(e.id)})).length&&U((function(e){return e.filter((function(e){return e!==t}))})),E(n)}(0,e.id)},value:n})}),(0,S.jsxs)(j.Z,{children:[(0,S.jsx)(h.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:(0,S.jsx)(f.Z,{style:{display:"flex",alignItems:"baseline"},children:e.level?"".concat(e.name," | ").concat(e.level):e.name})}),(0,S.jsx)(h.Z,{variant:"body2",color:"text.secondary",noWrap:!0,children:e.studentId})]})]},e.id)}}))})]})})]})})]})};var M=function(e,n,t,r,c,u){return Array.from({length:e},(function(e,n){return n})).reduce((function(e,t){return t*n>=r.length?e:[].concat((0,i.Z)(e),[t])}),[]).map((function(i){return(0,S.jsx)(y.Z,{direction:"row",sx:{marginBottom:i===e-1?0:.5},children:r.slice(i*n,i*n+n).map((function(e){return(0,S.jsx)(k.Z,{label:e,sx:{marginRight:.5,width:"".concat(t,"px")},variant:c(e)?"filled":"outlined",onClick:function(){return u(e)}},e)}))},i)}))}},58034:function(e,n,t){t.r(n);var r=t(74165),i=t(15861),c=t(93433),u=t(29439),a=t(31243),l=t(97892),o=t.n(l),s=t(98246),d=t(72791),f=t(21293),h=t(6907),x=t(16871),m=t(64554),v=t(57621),Z=t(45722),p=t(86279),g=t(40610),j=t(80184);n.default=function(){var e=(0,d.useState)(""),n=(0,u.Z)(e,2),t=n[0],l=n[1],b=(0,d.useState)(o()("2023-01-01T00:00:00")),y=(0,u.Z)(b,2),k=y[0],w=y[1],S=(0,d.useState)([]),M=(0,u.Z)(S,2),A=M[0],C=M[1],L=(0,x.UO)(),E=(0,x.s0)(),I=(0,s.Ds)().enqueueSnackbar,W=(0,f.cl)(),O=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>50)){e.next=3;break}return I("\ud589\uc0ac\uba85\uc740 50\uc790 \uc774\ub0b4\ub85c \uc791\uc131\ud574 \uc8fc\uc2ed\uc2dc\uc624.",{variant:"error"}),e.abrupt("return");case 3:return e.prev=3,e.next=6,a.Z.post("".concat("https://dev.api.klub.kr","/club/").concat(L.id,"/conference"),{conference:{clubId:L.id,title:t,startAt:k,user:A}},{params:Z.gh,headers:{Authorization:W()}});case 6:n=e.sent,"ok"===n.data.message?(I("\ub4f1\ub85d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",{variant:"success"}),E("/manage/".concat(L.id,"/attendance"))):I("\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc2ed\uc2dc\uc624.",{variant:"error"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),I("\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc2ed\uc2dc\uc624.",{variant:"error"});case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return(0,j.jsxs)(m.Z,{m:3,children:[(0,j.jsx)(h.ql,{children:(0,j.jsx)("title",{children:"\ucd9c\uc11d \uad00\ub9ac"})}),(0,j.jsxs)(v.Z,{children:[(0,j.jsx)(g.Z,{title:t,changeTitle:function(e){l(e)},date:k,changeDate:function(e){w(e)},selectedMembers:A,selectAllMembers:function(e,n){C(e.target.checked?n&&n.map((function(e){return e.id})):[])},selectOneMember:function(e){C((function(n){return[].concat((0,c.Z)(n),[e])}))},deleteOneMember:function(e){C((function(n){return n.filter((function(n){return n!==e}))}))},selectAllLevelMember:function(e){C((function(n){return Array.from(new Set([].concat((0,c.Z)(n),(0,c.Z)(e))))}))},deleteAllLevelMember:function(e){C((function(n){return n.filter((function(n){return!e.includes(n)}))}))}}),(0,j.jsx)(p.Z,{handleSubmit:O})]})]})}},19454:function(e,n,t){t.d(n,{L9:function(){return u},YH:function(){return i},ar:function(){return l},dS:function(){return a},py:function(){return r},y8:function(){return c}});var r=2,i=8,c="SPRING",u="FALL",a="1\ud559\uae30",l="2\ud559\uae30"},45722:function(e,n,t){t.d(n,{$4:function(){return a},H8:function(){return l},N$:function(){return u},Uf:function(){return c},gh:function(){return i}});var r=t(19454),i={semester:window.localStorage.getItem("semester"),year:window.localStorage.getItem("year")},c={SEMESTER:"semester",YEAR:"year"},u=function(e){return e===r.y8?r.dS:r.ar},a=function(){var e=(new Date).getMonth();return r.py<=e&&e<r.YH?r.y8:r.L9},l=function(){return(new Date).getFullYear()}}}]);
//# sourceMappingURL=34.f9146e2a.chunk.js.map