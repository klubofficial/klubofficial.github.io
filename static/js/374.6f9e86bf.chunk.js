"use strict";(self.webpackChunkklub=self.webpackChunkklub||[]).push([[374],{26374:function(n,t,e){e.r(t),e.d(t,{default:function(){return A}});var i=e(74165),r=e(45987),a=e(15861),c=e(93433),o=e(1413),s=e(29439),u=e(72791),l=e(6907),d=e(16871),h=e(27848),f=e(89164),v=e(64554),x=e(57621),Z=e(20890),m=e(67414),p=e(36151),j=e(13400),C=e(79908),b=e(77907),g=e(98937),k=e(22951),z=e(80872),S=e(57005),y=e(13967),I=e(27391),w=e(82271),E=e(16378),M=e(80184),B=function(n){var t=n.index,e=n.choice,i=n.onChange,r=n.handleDelete;return(0,M.jsxs)(v.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,M.jsx)(E.Z,{fontSize:"small"}),(0,M.jsx)(I.Z,{name:String(t),onChange:i,variant:"standard",value:e,required:!0,sx:{ml:2,maxWidth:500},placeholder:"\ucd5c\ub300 30\uc790"}),(0,M.jsx)(j.Z,{sx:{ml:2},onClick:r,name:"".concat(t),children:(0,M.jsx)(w.Z,{fontSize:"small",color:"disabled"})})]})},D=function(n){var t=n.index,e=n.question,i=n.handleDeleteQuestion,r=n.handleQuestionFieldChange,a=n.handleChangeIsEssential,o=n.handleChangeQuestionType,l=n.handleOptionFieldChangeSync,d=(0,y.Z)(),h=d.spacing,f=e.viewId,x=e.contents,m=e.isCheckBox,p=e.options,b=e.isEssential,g=(0,u.useState)(p||[]),k=(0,s.Z)(g,2),z=k[0],S=k[1],w=function(n){var t=n.target,e=t.name,i=t.value,r=Number(e);S((function(n){return n.map((function(n,t){return t===r?i:n}))})),l(f,z)},E=function(n){var t=n.currentTarget,e=Number(t.name);S((function(n){return n.filter((function(n,t){return t!==e}))}))};return(0,M.jsxs)(v.Z,{position:"relative",sx:{border:1,borderRadius:2,borderColor:d.palette.grey[300],padding:2,mb:2},children:[(0,M.jsxs)(Z.Z,{variant:"h6",sx:{marginBottom:h(.5),textAlign:"left"},children:["\uc9c8\ubb38 ",t+1]}),(0,M.jsx)(I.Z,{name:String(f),onChange:r,variant:"standard",placeholder:"\uc9c8\ubb38\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",value:x,helperText:"".concat(x.length," / ").concat(500),inputProps:{maxLength:500},multiline:!0,fullWidth:!0,maxRows:4,required:!0,sx:{margin:h(1,0),padding:h(1,0),"& label":{fontSize:"1.25rem"},"& .MuiFormHelperText-root":{textAlign:"right"}}}),m&&z&&(0,M.jsxs)(M.Fragment,{children:[z.map((function(n,t){return(0,M.jsx)(B,{index:t,choice:n,onChange:w,handleDelete:E},t)})),(0,M.jsxs)(j.Z,{sx:{maxWith:500,pl:0,display:"block"},onClick:function(){z.length>=20||S((function(n){return[].concat((0,c.Z)(n),[""])}))},disabled:20===(null===p||void 0===p?void 0:p.length),children:[(0,M.jsx)(C.Z,{fontSize:"small"}),(0,M.jsx)(Z.Z,{variant:"button",mx:2,children:"\xa0\uc120\ud0dd\uc9c0 \ucd94\uac00"}),(0,M.jsxs)(Z.Z,{variant:"caption",color:"text.secondary",children:[z.length,"/",20]})]})]}),(0,M.jsxs)(v.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-end",children:[(0,M.jsx)(N,{onClick:a(f),isEssential:b}),(0,M.jsx)(H,{onClick:o(f),isCheckBox:m}),(0,M.jsx)(q,{onClick:i(f)})]})]})},q=function(n){var t=n.onClick;return(0,M.jsxs)(j.Z,{type:"button","aria-label":"\uc9c8\ubb38 \uc0ad\uc81c\ud558\uae30",color:"error",onClick:t,children:[(0,M.jsx)(z.Z,{fontSize:"small"}),(0,M.jsx)(Z.Z,{variant:"button",children:"\xa0\uc0ad\uc81c"})]})},H=function(n){var t=n.onClick,e=n.isCheckBox;return(0,M.jsxs)(j.Z,{type:"button","aria-label":"\uc9c8\ubb38 \uc720\ud615 \ubcc0\uacbd\ud558\uae30",onClick:t,children:[e?(0,M.jsx)(k.Z,{fontSize:"small"}):(0,M.jsx)(S.Z,{fontSize:"small"}),(0,M.jsxs)(Z.Z,{variant:"button",children:["\xa0",e?"\uc120\ud0dd\ud615":"\uc7a5\ubb38\ud615"]})]})},N=function(n){var t=n.onClick,e=n.isEssential;return(0,M.jsxs)(j.Z,{type:"button","aria-label":"\ud544\uc218 \uc5ec\ubd80 \ubcc0\uacbd\ud558\uae30",onClick:t,children:[e?(0,M.jsx)(b.Z,{fontSize:"small"}):(0,M.jsx)(g.Z,{fontSize:"small"}),(0,M.jsx)(Z.Z,{variant:"button",children:"\xa0\ud544\uc218\ud56d\ubaa9"})]})},O=e(74529),Q=["contents","viewId","options","isCheckBox"],R=0,L=7,V={contents:"",isCheckBox:!1,isMultiSelectable:!1,viewId:0,isEssential:!0},A=function(){var n=(0,d.UO)(),t=n.id,e=n.recruitId,h=Number(t),j=Number(e),C=(0,d.s0)(),b=(0,u.useRef)(1),g=(0,u.useState)([V]),k=(0,s.Z)(g,2),z=k[0],S=k[1],y=(0,O.b)(h,j).data,I=(0,O.C)();(0,u.useEffect)((function(){if(y){if(y.every((function(n){return 0===n.contents.length})))return;return S(y.map((function(n){return(0,o.Z)((0,o.Z)({},n),{},{viewId:n.id})}))),void(b.current=y.length+1)}S([])}),[y]);var w=function(n){var t=n.target,e=t.name,i=t.value,r=Number(e),a=z.findIndex((function(n){return n.viewId===r}));S((function(n){var t=(0,c.Z)(n);return t[a].contents=i,t})),S(z.map((function(n,t){return t===a?(0,o.Z)((0,o.Z)({},n),{},{contents:i}):n})))},E=function(n){return function(){S((function(t){return t.filter((function(t){return t.viewId!==n}))}))}},B=function(){var n=(0,a.Z)((0,i.Z)().mark((function n(t){var e;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.preventDefault(),e=z.map((function(n){var t=n.contents,e=(n.viewId,n.options),i=n.isCheckBox,a=(0,r.Z)(n,Q);return(0,o.Z)({contents:t.trim(),options:i?null===e||void 0===e?void 0:e.map((function(n){return n.trim()})):[],isCheckBox:i},a)})),I.mutate({clubId:h,recruitId:j,questions:e}),C("/manage/".concat(h,"/recruit"));case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),q=function(n){return function(){S((function(t){return t.map((function(t){return t.viewId===n?(0,o.Z)((0,o.Z)({},t),{},{isCheckBox:!t.isCheckBox}):t}))}))}},H=function(n){return function(){S((function(t){return t.map((function(t){return t.viewId===n?(0,o.Z)((0,o.Z)({},t),{},{isEssential:!t.isEssential}):t}))}))}},N=function(n,t){S((function(e){return e.map((function(e){return e.viewId===n?(0,o.Z)((0,o.Z)({},e),{},{options:t}):e}))}))};return(0,M.jsxs)(f.Z,{maxWidth:"lg",sx:{minHeight:"70vh",display:"flex",justifyContent:"center",marginTop:10},children:[(0,M.jsx)(l.ql,{children:(0,M.jsx)("title",{children:"\uc2e0\uccad\ud3fc \uad00\ub9ac"})}),(0,M.jsx)(f.Z,{maxWidth:"lg",children:(0,M.jsxs)(v.Z,{component:"form",onSubmit:B,children:[(0,M.jsx)(x.Z,{children:(0,M.jsxs)(v.Z,{p:{xs:2,md:5},children:[(0,M.jsx)(Z.Z,{variant:"h2",children:"\uc2e0\uccad\ud3fc \uad00\ub9ac"}),(0,M.jsx)(Z.Z,{variant:"subtitle1",children:"".concat(R,"\uac1c\ubd80\ud130 ").concat(L,"\uac1c\uae4c\uc9c0 \uc791\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.")}),(0,M.jsxs)(v.Z,{mt:3,sx:{display:"flex",flexDirection:"column"},children:[z.map((function(n,t){return(0,M.jsx)(D,{question:n,index:t,handleChangeQuestionType:q,handleDeleteQuestion:E,handleQuestionFieldChange:w,handleChangeIsEssential:H,handleOptionFieldChangeSync:N},t)})),(0,M.jsx)(F,{onClick:function(){z.length>=L||(S([].concat((0,c.Z)(z),[(0,o.Z)((0,o.Z)({},V),{},{viewId:b.current})])),b.current+=1)},disabled:z.length>=L})]})]})}),(0,M.jsxs)(m.Z,{mt:2,pb:2,direction:"row",spacing:2,justifyContent:"center",children:[(0,M.jsx)(p.Z,{type:"button",variant:"outlined",onClick:function(){C("/manage/".concat(h,"/recruit"))},sx:{width:"50%",maxWidth:"120px"},children:"\ub4a4\ub85c\uac00\uae30"}),(0,M.jsx)(p.Z,{type:"submit",variant:"contained",sx:{width:"50%",maxWidth:"120px"},children:"\uc9c8\ubb38 \uc218\uc815"})]})]})})]})},F=function(n){var t=n.onClick,e=n.disabled;return(0,M.jsxs)(j.Z,{type:"button","aria-label":"\uc9c8\ubb38 \ucd94\uac00\ud558\uae30",color:"primary",onClick:t,disabled:e,sx:{margin:"0 auto",justifySelf:"center"},children:[(0,M.jsx)(h.Z,{fontSize:"small"}),(0,M.jsx)(Z.Z,{variant:"button",children:"\xa0\uc9c8\ubb38 \ucd94\uac00\ud558\uae30"})]})}},74529:function(n,t,e){e.d(t,{C:function(){return h},b:function(){return f}});var i=e(74165),r=e(15861),a=e(31243),c=e(7477),o=e(98246),s=e(38025),u=e(91933),l=e(86856),d=function(){var n=(0,r.Z)((0,i.Z)().mark((function n(t,e){var r,c,o;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.clubId,c=t.recruitId,o=t.questions,n.next=3,a.Z.put("".concat("https://dev.api.klub.kr","/club/").concat(r,"/recruit/").concat(c,"/question"),o,{headers:{Authorization:e}});case 3:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),h=function(){var n=(0,o.Ds)().enqueueSnackbar,t=(0,s.cl)()(),e=(0,u.useQueryClient)();return(0,u.useMutation)("postQuestion",(function(n){return d(n,t)}),{onSuccess:function(){n(l.P6.ADD_QUESTION_SUCCESS,{variant:"success"}),e.invalidateQueries("questions")},onError:function(t){t instanceof c.d7?n(l.P6.ADD_QUESTION_FAIL,{variant:"error"}):n(l.uz.UNKNOWN_ERROR,{variant:"error"})}})},f=function(n,t){var e=(0,o.Ds)().enqueueSnackbar,d=(0,s.cl)()();return(0,u.useQuery)(["questions"],function(n){var t=n.clubId,e=n.token,c=n.recruitId;return(0,r.Z)((0,i.Z)().mark((function n(){var r;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.get("".concat("https://dev.api.klub.kr","/club/").concat(t,"/recruit/").concat(c,"/question"),{headers:{Authorization:e}});case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)})))}({clubId:n,recruitId:t,token:d}),{onError:function(n){var t,i;n instanceof c.d7?e((null===(t=n.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.message)||l.uz.LOAD_FAIL,{variant:"error"}):e(l.uz.UNKNOWN_ERROR,{variant:"error"})},retry:0})}},79908:function(n,t,e){var i=e(64836);t.Z=void 0;var r=i(e(45649)),a=e(80184),c=(0,r.default)((0,a.jsx)("path",{d:"M22 5.18 10.59 16.6l-4.24-4.24 1.41-1.41 2.83 2.83 10-10L22 5.18zM12 20c-4.41 0-8-3.59-8-8s3.59-8 8-8c1.57 0 3.04.46 4.28 1.25l1.45-1.45C16.1 2.67 14.13 2 12 2 6.48 2 2 6.48 2 12s4.48 10 10 10c1.73 0 3.36-.44 4.78-1.22l-1.5-1.5c-1 .46-2.11.72-3.28.72zm7-5h-3v2h3v3h2v-3h3v-2h-3v-3h-2v3z"}),"AddTask");t.Z=c},77907:function(n,t,e){var i=e(64836);t.Z=void 0;var r=i(e(45649)),a=e(80184),c=(0,r.default)((0,a.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");t.Z=c},98937:function(n,t,e){var i=e(64836);t.Z=void 0;var r=i(e(45649)),a=e(80184),c=(0,r.default)((0,a.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank");t.Z=c},27848:function(n,t,e){var i=e(64836);t.Z=void 0;var r=i(e(45649)),a=e(80184),c=(0,r.default)((0,a.jsx)("path",{d:"M12 7c-.55 0-1 .45-1 1v3H8c-.55 0-1 .45-1 1s.45 1 1 1h3v3c0 .55.45 1 1 1s1-.45 1-1v-3h3c.55 0 1-.45 1-1s-.45-1-1-1h-3V8c0-.55-.45-1-1-1zm0-5C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"ControlPointRounded");t.Z=c},82271:function(n,t,e){var i=e(64836);t.Z=void 0;var r=i(e(45649)),a=e(80184),c=(0,r.default)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");t.Z=c},22951:function(n,t,e){var i=e(64836);t.Z=void 0;var r=i(e(45649)),a=e(80184),c=(0,r.default)((0,a.jsx)("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"}),"FormatListBulleted");t.Z=c},80872:function(n,t,e){var i=e(64836);t.Z=void 0;var r=i(e(45649)),a=e(80184),c=(0,r.default)((0,a.jsx)("path",{d:"M13.89 8.7 12 10.59 10.11 8.7a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41L10.59 12 8.7 13.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l1.89 1.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l1.89-1.89c.39-.39.39-1.02 0-1.41-.39-.38-1.03-.38-1.41 0zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"HighlightOffRounded");t.Z=c},16378:function(n,t,e){var i=e(64836);t.Z=void 0;var r=i(e(45649)),a=e(80184),c=(0,r.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked");t.Z=c},57005:function(n,t,e){var i=e(64836);t.Z=void 0;var r=i(e(45649)),a=e(80184),c=(0,r.default)((0,a.jsx)("path",{d:"M2.5 4v3h5v12h3V7h5V4h-13zm19 5h-9v3h3v7h3v-7h3V9z"}),"TextFields");t.Z=c}}]);
//# sourceMappingURL=374.6f9e86bf.chunk.js.map