"use strict";(self.webpackChunkklub=self.webpackChunkklub||[]).push([[381],{56381:function(e,n,t){t.r(n);var a,i=t(30168),r=t(93433),l=t(4942),u=t(1413),o=t(29439),s=t(31243),d=t(98246),c=t(72791),m=t(38025),v=t(6907),h=t(16871),p=t(95193),f=t(10703),x=t(20890),g=t(64554),Z=t(68096),b=t(94925),j=t(54535),y=t(79834),k=t(23786),w=t(36151),N=t(71747),C=t(27391),D=t(13967),P=t(66934),V=t(17604),A=t(86856),q=t(4385),O=t(80184);n.default=function(){var e,n,t,a,i,N,C,P,B,E,I=(0,D.Z)(),L=(0,p.Z)(I.breakpoints.up("sm")),T=(0,d.Ds)().enqueueSnackbar,F=(0,c.useState)([]),M=(0,o.Z)(F,2),R=M[0],H=M[1],U=(0,c.useState)(),$=(0,o.Z)(U,2),_=$[0],G=$[1],J=(0,h.UO)().id,K=Number(J),Q=(0,m.cl)(),X=(0,h.s0)(),Y=(0,m.fC)(),ee=(0,c.useState)({name:null===(e=Y())||void 0===e?void 0:e.name,phoneNumber:null===(n=Y())||void 0===n?void 0:n.phoneNumber,department:null===(t=Y())||void 0===t?void 0:t.department,answers:[]}),ne=(0,o.Z)(ee,2),te=ne[0],ae=ne[1];(null===(a=Y())||void 0===a?void 0:a.clubs.filter((function(e){return e.id===K})).length)>0&&(T("\uc774\ubbf8 \uac00\uc785\ub41c \ub3d9\uc544\ub9ac\uc785\ub2c8\ub2e4.",{variant:"error"}),X(-1));var ie=function(e){var n=e.target,t=n.name,a=n.value;if(ae((function(e){return(0,u.Z)((0,u.Z)({},e),{},(0,l.Z)({},t,a))})),e.target instanceof HTMLInputElement&&"name"===e.target.name){var i=e.target,r=i.value.trim(),o=/^[a-zA-Z0-9\u3131-\u314e\u314f-\u3163\uac00-\ud7a3 ]*$/.test(i.value);if(r!==i.value)return void i.setCustomValidity("\uc774\ub984 \uc55e\ub4a4\uc5d0 \uacf5\ubc31\ubb38\uc790\ub97c \ud3ec\ud568\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");if(!o)return void i.setCustomValidity("\uc774\ub984\uc5d0 \ud2b9\uc218\ubb38\uc790\ub97c \ud3ec\ud568\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");i.setCustomValidity("")}},re=function(e){var n=e.target,t=n.name,a=n.value;ae((function(e){var n=Number(t),i=(0,r.Z)(e.answers);return i[n]=a,(0,u.Z)((0,u.Z)({},e),{},{answers:i})}))};return(0,c.useEffect)((function(){s.Z.get("".concat("https://dev.api.klub.kr","/club/").concat(K,"/recruit/")).then((function(e){G(e.data.id);var n=new Date(e.data.startAt),t=new Date(e.data.endAt),a=new Date;t.setDate(t.getDate()+1),n<=a&&a<=t||(T("\uc9c0\uae08\uc740 \uc9c0\uc6d0 \uae30\uac04\uc774 \uc544\ub2d9\ub2c8\ub2e4.",{variant:"error"}),X(-1))})).catch((function(e){var n;T("".concat(null===(n=e.response.data)||void 0===n?void 0:n.message),{variant:"error"}),X(-1)})),s.Z.get("".concat("https://dev.api.klub.kr","/club/").concat(K,"/form/")).then((function(e){var n=e.data.questions;H(n)})).catch((function(e){var n,t;return T(null!==(n=null===(t=e.response.data)||void 0===t?void 0:t.message)&&void 0!==n?n:"\uc11c\ubc84\uc5d0\uc11c \uc624\ub958\uac00 \ubc1c\uc0dd\ud55c \uac83 \uac19\uc544\uc694. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694",{variant:"error"})}))}),[]),(0,O.jsxs)(W,{children:[(0,O.jsx)(v.ql,{children:(0,O.jsx)("title",{children:"\ub3d9\uc544\ub9ac \uc9c0\uc6d0"})}),(0,O.jsxs)(f.Z,{square:!L,sx:(0,l.Z)({my:I.spacing(8),padding:3,flex:1,maxWidth:"480px"},I.breakpoints.down("sm"),{my:0,py:5,maxWidth:"100%"}),children:[(0,O.jsx)(x.Z,{component:"h1",variant:"h3",sx:{mb:2,textAlign:"center"},children:"\ub3d9\uc544\ub9ac \uc9c0\uc6d0\uc11c"}),(0,O.jsxs)(g.Z,{component:"form",sx:{display:"flex",flexDirection:"column",alignItems:"center","& .MuiTextField-root":{margin:1}},onSubmit:function(e){e.preventDefault();var n=Object.assign({},te);s.Z.post("".concat("https://dev.api.klub.kr","/apply/form?recruitId=").concat(_),n,{headers:{Authorization:Q()}}).then((function(){T("\ub3d9\uc544\ub9ac\uc5d0 \uc9c0\uc6d0\uc11c\ub97c \uc81c\ucd9c\ud588\uc5b4\uc694! \uc88b\uc740 \uacb0\uacfc \uc788\uae30\ub97c \ubc14\ub77c\uc694 :)",{variant:"success"}),X("/club/".concat(K))})).catch((function(e){var n,t;return T(null!==(n=null===(t=e.response.data)||void 0===t?void 0:t.message)&&void 0!==n?n:"\uc11c\ubc84\uc5d0\uc11c \uc624\ub958\uac00 \ubc1c\uc0dd\ud55c \uac83 \uac19\uc544\uc694. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694",{variant:"error"})}))},children:[(0,O.jsx)(z,{id:"email",type:"email",label:"\uc774\uba54\uc77c",disabled:!0,defaultValue:null===(i=Y())||void 0===i?void 0:i.email,inputProps:{readOnly:!0}}),(0,O.jsx)(z,{id:"student-id",type:"text",label:"\ud559\ubc88",disabled:!0,defaultValue:null===(N=Y())||void 0===N?void 0:N.studentId,inputProps:{readOnly:!0}}),(0,O.jsx)(z,{id:"name",name:"name",type:"text",label:"\uc774\ub984",inputProps:{maxLength:50},defaultValue:null===(C=Y())||void 0===C?void 0:C.name,onChange:ie}),(0,O.jsx)(z,{id:"phone-number",name:"phoneNumber",type:"tel",label:"\uc804\ud654\ubc88\ud638",inputProps:{pattern:"010-[0-9]{4}-[0-9]{4}",maxLength:13},defaultValue:null===(P=Y())||void 0===P?void 0:P.phoneNumber,helperText:A.Nh.PHONE_NUMBER,value:te.phoneNumber,onChange:function(e){var n=e.target.value;ae((function(e){return(0,u.Z)((0,u.Z)({},e),{},{phoneNumber:(0,q.j)(n)})}))}}),(0,O.jsxs)(Z.Z,{sx:{margin:1,width:"100%"},size:"small",required:!0,children:[(0,O.jsx)(b.Z,{htmlFor:"department",children:"\ud559\uacfc/\ud559\ubd80"}),(0,O.jsx)(j.Z,{id:"department",name:"department",label:"\ud559\uacfc/\ud559\ubd80",defaultValue:(null===(B=Y())||void 0===B?void 0:B.department)||"",onChange:ie,fullWidth:!0,children:V.Z&&Object.keys(V.Z).map((function(e){return[(0,O.jsx)(y.Z,{sx:{fontWeight:"bold"},children:e}),V.Z[e]&&V.Z[e].map((function(n){return[(0,O.jsx)(k.Z,{value:e===n?n:e+" "+n,children:n})]}))]}))})]}),!(null!==(E=Y())&&void 0!==E&&E.phoneNumber)&&(0,O.jsx)(g.Z,{children:(0,O.jsx)(x.Z,{variant:"body1",display:"inline",children:"\uc785\ub825\ud558\uc2e0 \uc815\ubcf4\ub294 \ub3d9\uc544\ub9ac \uad00\ub9ac\ub97c \uc704\ud574 \uc11c\ubc84\uc5d0 \uc800\uc7a5\ub429\ub2c8\ub2e4."})}),(null===R||void 0===R?void 0:R.filter((function(e){return e})).length)>0&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(x.Z,{variant:"h6",sx:{marginTop:1,marginBottom:I.spacing(.5)},children:"\uc9c0\uc6d0\uc11c \uc9c8\ubb38"}),R.map((function(e,n){var t;return(0,O.jsxs)(g.Z,{width:"100%",sx:{marginBottom:1},children:[(0,O.jsx)(x.Z,{variant:"subtitle1",sx:{marginBottom:I.spacing(.5),textAlign:"left"},children:e}),(0,O.jsx)(S,{minRows:4,maxRows:6,name:"".concat(n),maxLength:1e3,onChange:re}),(0,O.jsxs)(x.Z,{variant:"subtitle1",textAlign:"right",children:[(null!==(t=te.answers[n])&&void 0!==t?t:"").length," / ",1e3]})]},n)}))]}),(0,O.jsx)(w.Z,{type:"submit",variant:"contained",fullWidth:!0,sx:{mt:1},children:"\uc9c0\uc6d0\uc11c \uc81c\ucd9c"})]})]})]})};var W=(0,P.ZP)(g.Z)((function(){return"\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    "})),S=(0,P.ZP)(N.Z)(a||(a=(0,i.Z)(["\n  padding: 8px;\n  width: 100%;\n  border-radius: 5px;\n  border: 1px solid lightgrey;\n  font-family: 'Pretendard';\n"]))),z=function(e){return(0,O.jsx)(C.Z,(0,u.Z)({size:"small",required:!0,fullWidth:!0},e))}}}]);
//# sourceMappingURL=381.05bae048.chunk.js.map