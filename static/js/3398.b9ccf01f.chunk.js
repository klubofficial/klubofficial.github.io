"use strict";(self.webpackChunkklub=self.webpackChunkklub||[]).push([[3398],{94223:function(n,e,t){var i=t(61889),a=t(27391),r=t(68096),l=t(94925),c=t(54535),s=t(23786),u=t(36151),o=t(66934),d=t(16747),h=t(73726),m=t(80184);e.Z=function(n){var e,t,o=n.clubInformation,f=n.handleChange,v=n.handleSelect,Z=n.handleClickEditButton,g=n.fixedClubName;return(0,m.jsxs)(i.ZP,{container:!0,alignItems:"center",mt:2,spacing:2,children:[(0,m.jsx)(x,{item:!0,xs:12,children:(0,m.jsx)(a.Z,{fullWidth:!0,label:"\ub3d9\uc544\ub9ac\uba85",name:"name",id:"name",value:null!==(e=null!==(t=o.name)&&void 0!==t?t:g)&&void 0!==e?e:"",disabled:!!g,helperText:g?"\ub3d9\uc544\ub9ac\uba85\uc740 \uc218\uc815\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4":"",onChange:f})}),(0,m.jsx)(x,{item:!0,xs:12,sm:6,children:(0,m.jsx)(a.Z,{label:"\ub3d9\uc544\ub9ac \uc124\uba85",required:!0,name:"description",id:"description",fullWidth:!0,value:o.description,onChange:f})}),(0,m.jsx)(x,{item:!0,xs:12,sm:6,children:(0,m.jsx)(a.Z,{label:"\ub3d9\uc544\ub9ac \uc7a5\uc18c",name:"location",id:"location",fullWidth:!0,value:o.location,onChange:f})}),(0,m.jsx)(x,{item:!0,xs:6,children:(0,m.jsxs)(r.Z,{fullWidth:!0,children:[(0,m.jsx)(l.Z,{id:"belonging-label",children:"\uc18c\uc18d"}),(0,m.jsx)(c.Z,{labelId:"belonging-label",id:"belonging",name:"belonging",label:"\uc18c\uc18d",value:o.belonging,onChange:v,required:!0,children:d.Z&&d.Z.map((function(n,e){return(0,m.jsx)(s.Z,{value:n,children:n},e)}))})]})}),(0,m.jsx)(x,{item:!0,xs:6,children:(0,m.jsxs)(r.Z,{fullWidth:!0,children:[(0,m.jsx)(l.Z,{id:"category-label",children:"\ub3d9\uc544\ub9ac \uce74\ud14c\uace0\ub9ac"}),(0,m.jsx)(c.Z,{labelId:"category-label",id:"category",name:"category",label:"\uce74\ud14c\uace0\ub9ac",value:o.category,onChange:v,required:!0,children:h.Z&&h.Z.map((function(n,e){return(0,m.jsx)(s.Z,{value:n,children:n},e)}))})]})}),(0,m.jsx)(x,{item:!0,xs:12,justifyContent:"flex-end",children:(0,m.jsx)(u.Z,{variant:"contained",color:"success",onClick:Z,children:g?"\uc218\uc815 / \ub4f1\ub85d":"\ub4f1\ub85d"})})]})};var x=(0,o.ZP)(i.ZP)({display:"flex"})},63398:function(n,e,t){t.r(e),t.d(e,{default:function(){return N}});var i=t(4942),a=t(1413),r=t(29439),l=t(98246),c=t(72791),s=t(38025),u=t(6907),o=t(16871),d=t(57621),h=t(20890),m=t(64554),x=t(61889),f=t(27391),v=t(36151),Z=t(94223),g=t(74165),p=t(15861),b=t(31243),j=t(7477),C=t(91933),k=t(86856),y=function(){var n=(0,p.Z)((0,g.Z)().mark((function n(e,t){return(0,g.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.Z.post("".concat("https://dev.api.klub.kr","/admin/club"),e,{headers:{Authorization:t}});case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),I=function(){var n=(0,p.Z)((0,g.Z)().mark((function n(e,t){return(0,g.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.Z.post("".concat("https://dev.api.klub.kr","/admin/club/superadmin"),e,{headers:{Authorization:t}});case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),S=t(80184);var N=function(){var n=(0,o.s0)(),e=function(){var n=(0,l.Ds)().enqueueSnackbar,e=(0,s.cl)()();return(0,C.useMutation)("postClub",(function(n){return y(n,e)}),{onSuccess:function(){n(k.uz.ADD_SUCCESS,{variant:"success"})},onError:function(e){var t,i,a;e instanceof j.d7?n(null!==(t=null===(i=e.response)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.message)&&void 0!==t?t:k.uz.ADD_FAIL,{variant:"error"}):n(k.uz.UNKNOWN_ERROR,{variant:"error"})}})}(),t=function(){var n=(0,l.Ds)().enqueueSnackbar,e=(0,s.cl)()();return(0,C.useMutation)("postCreateClub",(function(n){return I(n,e)}),{onSuccess:function(){n("\ud68c\uc7a5\uc73c\ub85c \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",{variant:"success"}),n("\uc7ac\ub85c\uadf8\uc778 \uc2dc \ud68c\uc7a5\uc740 \ubcf8\uc778 \ub3d9\uc544\ub9ac \uad00\ub9ac\ub97c \uc2dc\uc791\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",{variant:"success"})},onError:function(e){var t,i,a;e instanceof j.d7?n(null!==(t=null===(i=e.response)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.message)&&void 0!==t?t:k.uz.ADD_FAIL,{variant:"error"}):n(k.uz.UNKNOWN_ERROR,{variant:"error"})}})}(),g=(0,s.fC)()(),p=(0,l.Ds)().enqueueSnackbar,b=(0,c.useState)({name:"",description:"",category:"",belonging:"",location:""}),N=(0,r.Z)(b,2),A=N[0],D=N[1],W=(0,c.useState)({clubName:"",studentId:"",email:""}),E=(0,r.Z)(W,2),P=E[0],q=E[1];(0,c.useEffect)((function(){"SUPERADMIN"!==(null===g||void 0===g?void 0:g.permission)&&(p("\uad8c\ud55c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4",{variant:"error"}),n("/mypage"))}),[null===g||void 0===g?void 0:g.permission]);var w=function(n){var e=n.target,t=e.name,r=e.value;q((function(n){return(0,a.Z)((0,a.Z)({},n),{},(0,i.Z)({},t,r))}))};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(u.ql,{children:(0,S.jsx)("title",{children:"KLUB \uc5b4\ub4dc\ubbfc \ud398\uc774\uc9c0"})}),(0,S.jsxs)(d.Z,{style:{margin:20,padding:20,justifyContent:"center",alignItems:"center"},children:[(0,S.jsx)(h.Z,{variant:"h3",component:"h4",textAlign:"center",mb:4,children:"KLUB \uc5b4\ub4dc\ubbfc \ud398\uc774\uc9c0"}),(0,S.jsxs)(m.Z,{p:4,children:[(0,S.jsx)(h.Z,{variant:"h4",component:"h4",textAlign:"center",mb:4,children:"\ub3d9\uc544\ub9ac \ub4f1\ub85d"}),(0,S.jsx)(Z.Z,{clubInformation:A,handleChange:function(n){var e=n.target,t=e.name,r=e.value;D((function(n){return(0,a.Z)((0,a.Z)({},n),{},(0,i.Z)({},t,r))}))},handleSelect:function(n){var e=n.target,t=e.name,r=e.value;D((function(n){return(0,a.Z)((0,a.Z)({},n),{},(0,i.Z)({},t,r))}))},handleClickEditButton:function(){A.name&&A.description&&A.category&&A.belonging?e.mutate(A):p("\ubaa8\ub4e0 \uc815\ubcf4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694",{variant:"warning"})}}),(0,S.jsx)(h.Z,{variant:"h4",component:"h4",textAlign:"center",mb:4,children:"\ub3d9\uc544\ub9ac \ud68c\uc7a5 \ub4f1\ub85d"}),(0,S.jsxs)(x.ZP,{container:!0,alignItems:"center",mt:2,spacing:2,children:[(0,S.jsx)(x.ZP,{item:!0,xs:12,children:(0,S.jsx)(f.Z,{fullWidth:!0,label:"\ub3d9\uc544\ub9ac\uba85",name:"clubName",id:"clubName",value:P.clubName,helperText:"\uc815\ud655\ud55c \ub3d9\uc544\ub9ac\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",onChange:w})}),(0,S.jsx)(x.ZP,{item:!0,xs:12,sm:6,children:(0,S.jsx)(f.Z,{label:"\ub3d9\uc544\ub9ac\uc7a5 \ud559\ubc88",required:!0,name:"studentId",id:"club-leader-student-id",fullWidth:!0,value:P.studentId,onChange:w})}),(0,S.jsx)(x.ZP,{item:!0,xs:12,sm:6,children:(0,S.jsx)(f.Z,{label:"\ub3d9\uc544\ub9ac\uc7a5 \uc774\uba54\uc77c",name:"email",id:"email",fullWidth:!0,value:P.email,onChange:w})}),(0,S.jsx)(x.ZP,{display:"flex",item:!0,xs:12,justifyContent:"flex-end",children:(0,S.jsx)(v.Z,{variant:"contained",color:"success",onClick:function(){t.mutate(P)},children:"\ub4f1\ub85d"})})]})]}),(0,S.jsx)(m.Z,{display:"flex",flex:1,justifyContent:"center",children:(0,S.jsx)(v.Z,{onClick:function(){n("/mypage")},color:"secondary",children:"\ub4a4\ub85c \uac00\uae30"})})]})]})}}}]);
//# sourceMappingURL=3398.b9ccf01f.chunk.js.map