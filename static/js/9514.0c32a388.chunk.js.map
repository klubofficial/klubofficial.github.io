{"version":3,"file":"static/js/9514.0c32a388.chunk.js","mappings":"kQAkBA,MA6DA,EA7DqCA,KAAO,IAADC,EACzC,MAAOC,EAAOC,IAAYC,EAAAA,EAAAA,UAAiB,KACpCC,EAAiBC,IAAsBF,EAAAA,EAAAA,UAAmB,KAC1DG,EAAmBC,IAAwBJ,EAAAA,EAAAA,UAAiB,IAE7DK,GAASC,EAAAA,EAAAA,OACT,gBAAEC,IAAoBC,EAAAA,EAAAA,MAStBC,GAAWC,EAAAA,EAAAA,MACXC,EAASC,OAAOP,EAAOQ,IACvBC,EAAiB,QAAbjB,EAAGY,WAAU,IAAAZ,OAAA,EAAVA,EAAYkB,MAAMC,QAAQC,GAAyBA,EAAEJ,KAAOF,IAAQ,IACzEO,KAAMC,IAAYC,EAAAA,EAAAA,IAAcT,GAElCU,EAAsB,CAAEC,KAAMR,EAAKQ,KAAMC,SAAUT,EAAKS,UAExDC,GAA2BC,EAAAA,EAAAA,IAAoB,CACnDd,SACAb,MAAOA,EACP4B,MAAOzB,EACPE,kBAAmBA,EACnBkB,SAAUA,IAWZ,OACEM,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,EAAG,EAAEC,SAAA,EACRC,EAAAA,EAAAA,KAACC,EAAAA,GAAM,CAAAF,UACLC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,iCAETH,EAAAA,EAAAA,MAACM,EAAAA,EAAI,CAAAH,SAAA,CACF7B,IACC8B,EAAAA,EAAAA,KAACG,EAAAA,EAAc,CACbpC,MAAOA,EACPqC,YAvCWrC,IACnBC,EAASD,EAAM,EAuCPK,kBAAmBA,EACnBiC,wBAtCuBjC,IAC/BC,EAAqBD,EAAkB,EAsC/BgB,QAAgB,OAAPA,QAAO,IAAPA,EAAAA,EAAW,GACpBlB,gBAAiBA,EACjBC,mBAAoBA,KAGxB6B,EAAAA,EAAAA,KAACM,EAAAA,EAAgB,CAACC,aAzBHC,UACfzC,EAAM0C,OAAS,GACjBjC,EAAgB,oGAA0B,CAAEkC,QAAS,UAGvDjB,EAAyBkB,aAAa,SAsBhC,C","sources":["content/manage/Conference/ConferenceRegister/index.tsx"],"sourcesContent":["import { useSnackbar } from 'notistack'\nimport { useState } from 'react'\nimport { useAuthUser } from 'react-auth-kit'\nimport { Helmet } from 'react-helmet-async'\nimport { useParams } from 'react-router-dom'\n\nimport { Box, Card } from '@mui/material'\n\nimport type { ClubMemberForAuth } from 'src/models/clubMember'\nimport { type DateProps } from 'src/models/date'\n\nimport CancelSubmitBtns from 'src/components/CancelSubmitBtns'\n\nimport ConferenceInfo from 'src/content/manage/Conference/ConferenceEdit/ConferenceInfo'\n\nimport { useCreateConference } from 'src/hooks/api/clubConferenceHooks'\nimport { useGetMembers } from 'src/hooks/api/member'\n\nconst ConferenceRegister: React.FC = () => {\n  const [title, setTitle] = useState<string>('')\n  const [selectedMembers, setSelectedMembers] = useState<number[]>([])\n  const [participantTarget, setparticipantTarget] = useState<string>('')\n\n  const params = useParams()\n  const { enqueueSnackbar } = useSnackbar()\n\n  const changeTitle = (title: string) => {\n    setTitle(title)\n  }\n  const changeParticipantTarget = (participantTarget: string) => {\n    setparticipantTarget(participantTarget)\n  }\n\n  const authUser = useAuthUser()\n  const clubId = Number(params.id)\n  const club = authUser()?.clubs.filter((c: ClubMemberForAuth) => c.id === clubId)[0] as ClubMemberForAuth\n  const { data: members } = useGetMembers(clubId)\n\n  const clubDate: DateProps = { year: club.year, semester: club.semester }\n\n  const createConferenceMutation = useCreateConference({\n    clubId,\n    title: title,\n    users: selectedMembers,\n    participantTarget: participantTarget,\n    clubDate: clubDate\n  })\n\n  const handleSubmit = async () => {\n    if (title.length > 50) {\n      enqueueSnackbar('행사명은 50자 이내로 작성해 주십시오.', { variant: 'error' })\n      return\n    }\n    createConferenceMutation.mutateAsync()\n  }\n\n  return (\n    <Box m={3}>\n      <Helmet>\n        <title>활동 기록</title>\n      </Helmet>\n      <Card>\n        {selectedMembers && (\n          <ConferenceInfo\n            title={title}\n            changeTitle={changeTitle}\n            participantTarget={participantTarget}\n            changeParticipantTarget={changeParticipantTarget}\n            members={members ?? []}\n            selectedMembers={selectedMembers}\n            setSelectedMembers={setSelectedMembers}\n          />\n        )}\n        <CancelSubmitBtns handleSubmit={handleSubmit} />\n      </Card>\n    </Box>\n  )\n}\n\nexport default ConferenceRegister\n"],"names":["ConferenceRegister","_authUser","title","setTitle","useState","selectedMembers","setSelectedMembers","participantTarget","setparticipantTarget","params","useParams","enqueueSnackbar","useSnackbar","authUser","useAuthUser","clubId","Number","id","club","clubs","filter","c","data","members","useGetMembers","clubDate","year","semester","createConferenceMutation","useCreateConference","users","_jsxs","Box","m","children","_jsx","Helmet","Card","ConferenceInfo","changeTitle","changeParticipantTarget","CancelSubmitBtns","handleSubmit","async","length","variant","mutateAsync"],"sourceRoot":""}