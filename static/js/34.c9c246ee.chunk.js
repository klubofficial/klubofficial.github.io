"use strict";(self.webpackChunkklub=self.webpackChunkklub||[]).push([[34],{86279:function(n,e,t){var r=t(16871),i=t(67414),c=t(36151),a=t(80184);e.Z=function(n){var e=n.handleSubmit,t=n.handleCancel,u=n.displayCancelBtn,o=void 0===u||u,l=n.submitBtnText,s=void 0===l?"\ub4f1\ub85d":l,d=n.cancelBtnText,f=void 0===d?"\ucde8\uc18c":d,h=(0,r.s0)();return(0,a.jsxs)(i.Z,{mt:2,pb:2,direction:"row",spacing:2,justifyContent:"center",children:[o&&(0,a.jsx)(c.Z,{color:"error",variant:"outlined",sx:{width:"50%",maxWidth:"120px"},onClick:function(n){void 0===t?h(-1):t(n)},children:f}),(0,a.jsx)(c.Z,{color:"success",variant:"contained",onClick:e,sx:{width:"50%",maxWidth:"120px"},children:s})]})}},58034:function(n,e,t){t.r(e);var r=t(1413),i=t(74165),c=t(15861),a=t(93433),u=t(29439),o=t(31243),l=t(97892),s=t.n(l),d=t(98246),f=t(72791),h=t(21293),x=t(6907),p=t(16871),m=t(69608),Z=t(67414),v=t(81918),g=t(64554),j=t(57621),y=t(61889),b=t(20890),k=t(27391),w=t(94454),S=t(39281),C=t(79836),A=t(56890),I=t(35855),W=t(53994),E=t(53382),B=t(45722),M=t(86279),z=t(12659),H=t(80184),L=function(n,e,t,r,i,c){for(var a=[],u=r.length,o=0;o<n;o++)o*e<u&&a.push((0,H.jsx)(Z.Z,{direction:"row",sx:{marginBottom:o===n-1?0:.5},children:r.slice(o*e,o*e+e).map((function(n){return(0,H.jsx)(v.Z,{label:n,sx:{marginRight:.5,width:"".concat(t,"px")},variant:i(n)?"filled":"outlined",onClick:function(){return c(n)}},n)}))},o));return a};e.default=function(){var n=(0,f.useState)(""),e=(0,u.Z)(n,2),t=e[0],l=e[1],Z=(0,f.useState)(s()("2023-01-01T00:00:00")),v=(0,u.Z)(Z,2),P=v[0],R=v[1],T=(0,f.useState)([]),Y=(0,u.Z)(T,2),q=Y[0],D=Y[1],F=(0,f.useState)([]),N=(0,u.Z)(F,2),O=N[0],U=N[1],$=(0,f.useState)([]),G=(0,u.Z)($,2),J=G[0],K=G[1],Q=(0,f.useState)([]),V=(0,u.Z)(Q,2),X=V[0],_=V[1],nn=(0,f.useState)(!0),en=(0,u.Z)(nn,2),tn=en[0],rn=en[1],cn=(0,p.UO)(),an=(0,p.s0)(),un=(0,d.Ds)().enqueueSnackbar,on=(0,h.cl)(),ln=(0,f.useRef)(null),sn=(0,f.useState)(0),dn=(0,u.Z)(sn,2),fn=dn[0],hn=dn[1],xn=Math.ceil(87*J.length/(fn-76)),pn=Math.ceil((fn-76)/87),mn=function(){ln.current&&hn(ln.current.clientWidth)},Zn=O.length>0&&O.length<q.length,vn=O.length===q.length,gn=function(){var n=(0,c.Z)((0,i.Z)().mark((function n(){var e;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t.length>50)){n.next=3;break}return un("\ud589\uc0ac\uba85\uc740 50\uc790 \uc774\ub0b4\ub85c \uc791\uc131\ud574 \uc8fc\uc2ed\uc2dc\uc624.",{variant:"error"}),n.abrupt("return");case 3:return n.prev=3,n.next=6,o.Z.post("".concat("https://dev.api.klub.kr","/club/").concat(cn.id,"/conference"),{conference:{clubId:cn.id,title:t,startAt:P,user:O}},{params:B.gh,headers:{Authorization:on()}});case 6:e=n.sent,"ok"===e.data.message?(un("\ub4f1\ub85d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",{variant:"success"}),an("/manage/".concat(cn.id,"/attendance"))):un("\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc2ed\uc2dc\uc624.",{variant:"error"}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),un("\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc2ed\uc2dc\uc624.",{variant:"error"});case 14:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(){return n.apply(this,arguments)}}();return(0,f.useEffect)((function(){var n;hn((null===(n=ln.current)||void 0===n?void 0:n.clientWidth)||450),o.Z.get("".concat("https://dev.api.klub.kr","/club/").concat(cn.id,"/member"),{headers:{Authorization:on()}}).then((function(n){var e=n.data.filter((function(n){var e=n.withdrawalAt,t=n.deletedAt,r=n.firedAt;return!e&&!t&&!r}));e.sort((function(n,e){return n.name<e.name?-1:1})),D(e);var t=Array.from(new Set(e.filter((function(n){return null!==n.level})).map((function(n){return n.level})))).sort();K(t)}))}),[]),(0,f.useEffect)((function(){window.addEventListener("resize",mn)}),[]),(0,H.jsxs)(g.Z,{m:3,children:[(0,H.jsx)(x.ql,{children:(0,H.jsx)("title",{children:"\ucd9c\uc11d \uad00\ub9ac"})}),(0,H.jsxs)(j.Z,{children:[(0,H.jsxs)(y.ZP,{container:!0,sx:{justifyContent:"center"},children:[(0,H.jsx)(y.ZP,{item:!0,xs:12,md:6,children:(0,H.jsxs)(g.Z,{padding:{xs:3,md:6},paddingBottom:{xs:0},children:[(0,H.jsx)(b.Z,{variant:"h4",color:z.r.colors.primary.main,sx:{margin:"20px 0px"},children:"\ud589\uc0ac\uba85"}),(0,H.jsx)(k.Z,{required:!0,id:"title",label:"\ud589\uc0ac\uba85",onChange:function(n){return l(n.target.value)},fullWidth:!0}),(0,H.jsx)(b.Z,{variant:"h4",color:z.r.colors.primary.main,sx:{margin:"20px 0px"},children:"\ud589\uc0ac\uc77c"}),(0,H.jsx)(m.O,{label:"\ud589\uc0ac\uc77c",inputFormat:"yyyy/MM/dd",value:P,onChange:function(n){R(n)},renderInput:function(n){return(0,H.jsx)(k.Z,(0,r.Z)((0,r.Z)({},n),{},{sx:{width:"100%"}}))}})]})}),(0,H.jsx)(y.ZP,{item:!0,xs:12,md:6,children:(0,H.jsxs)(g.Z,{padding:{xs:3,md:6},children:[(0,H.jsxs)(g.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",mt:1,mb:-.5,children:[(0,H.jsx)(g.Z,{display:"flex",children:(0,H.jsxs)(b.Z,{variant:"h4",color:z.r.colors.primary.main,display:"inline-block",children:["\ucc38\uc5ec\uc778\uc6d0 ",(0,H.jsx)(b.Z,{variant:"caption",fontSize:1,display:"inline-block",children:"\uac00\ub098\ub2e4\uc21c"})]})}),(0,H.jsxs)(g.Z,{children:[(0,H.jsx)(b.Z,{display:"inline-block",variant:"body1",children:"\ud734\ud68c\uc6d0 \ud3ec\ud568"}),(0,H.jsx)(w.Z,{sx:{padding:"5px"},size:"small",checked:tn,onChange:function(n){rn((function(){return n.target.checked}))}})]})]}),(0,H.jsx)(b.Z,{variant:"caption",children:"ctrl + f \ub85c \uac80\uc0c9\ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4"}),(0,H.jsx)(S.Z,{sx:{maxHeight:"45vh",overflow:"scroll"},ref:ln,children:(0,H.jsxs)(C.Z,{stickyHeader:!0,children:[(0,H.jsx)(A.Z,{children:(0,H.jsxs)(I.Z,{children:[(0,H.jsx)(W.Z,{padding:"checkbox",children:(0,H.jsx)(w.Z,{color:"primary",checked:vn,indeterminate:Zn,onChange:function(n){U(n.target.checked?q&&q.map((function(n){return n.id})):[]),_(n.target.checked?J:[])}})}),(0,H.jsx)(W.Z,{children:J?L(xn,pn,87,J,(function(n){var e=q.filter((function(e){return e.level===n})).map((function(n){return n.id})).filter((function(n){return!O.includes(n)}));return X.includes(n)&&!e.length}),(function(n){var e=q.filter((function(e){return e.level===n})).map((function(n){return n.id}));X.includes(n)?(_((function(e){return e.filter((function(e){return e!==n}))})),U((function(n){return n.filter((function(n){return!e.includes(n)}))}))):(_((function(e){return[].concat((0,a.Z)(e),[n])})),U((function(n){return Array.from(new Set([].concat((0,a.Z)(n),(0,a.Z)(e))))})))})):"\uc774\ub984 | \ub4f1\uae09"})]})}),(0,H.jsx)(E.Z,{children:q&&q.map((function(n){if(tn||!n.isPaused){var e=O.includes(n.id);return(0,H.jsxs)(I.Z,{hover:!0,selected:e,children:[(0,H.jsx)(W.Z,{padding:"checkbox",children:(0,H.jsx)(w.Z,{color:"primary",checked:e,onChange:function(e){return function(n,e){var t=q.filter((function(n){return n.id===e})).map((function(n){return n.level}))[0];O.includes(e)?(1===q.filter((function(n){return n.level===t&&O.includes(n.id)})).length&&_((function(n){return n.filter((function(n){return n!==t}))})),U((function(n){return n.filter((function(n){return n!==e}))}))):(_((function(n){return Array.from(new Set([].concat((0,a.Z)(n),[t])))})),U((function(n){return[].concat((0,a.Z)(n),[e])})))}(0,n.id)},value:e})}),(0,H.jsxs)(W.Z,{children:[(0,H.jsx)(b.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:(0,H.jsx)(g.Z,{style:{display:"flex",alignItems:"baseline"},children:n.level?"".concat(n.name," | ").concat(n.level):n.name})}),(0,H.jsx)(b.Z,{variant:"body2",color:"text.secondary",noWrap:!0,children:n.studentId})]})]},n.id)}}))})]})})]})})]}),(0,H.jsx)(M.Z,{handleSubmit:gn})]})]})}},19454:function(n,e,t){t.d(e,{L9:function(){return a},YH:function(){return i},ar:function(){return o},dS:function(){return u},py:function(){return r},y8:function(){return c}});var r=2,i=8,c="SPRING",a="FALL",u="1\ud559\uae30",o="2\ud559\uae30"},45722:function(n,e,t){t.d(e,{$4:function(){return u},H8:function(){return o},N$:function(){return a},Uf:function(){return c},gh:function(){return i}});var r=t(19454),i={semester:window.localStorage.getItem("semester"),year:window.localStorage.getItem("year")},c={SEMESTER:"semester",YEAR:"year"},a=function(n){return n===r.y8?r.dS:r.ar},u=function(){var n=(new Date).getMonth();return r.py<=n&&n<r.YH?r.y8:r.L9},o=function(){return(new Date).getFullYear()}}}]);
//# sourceMappingURL=34.c9c246ee.chunk.js.map