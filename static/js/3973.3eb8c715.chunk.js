"use strict";(self.webpackChunkklub=self.webpackChunkklub||[]).push([[3973],{30225:function(e,n,r){var t=r(81918),i=r(80184);n.Z=function(e){var n=e.label,r=e.isDesktopOrTablet;return(0,i.jsx)(t.Z,{label:n,size:"small",sx:{padding:.5,fontSize:r?13:11,marginRight:1}})}},87137:function(e,n,r){var t=r(21880),i=r(13400),o=r(80184),s=function(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("svg",{width:0,height:0,children:(0,o.jsxs)("linearGradient",{id:"linearColors",x1:1,y1:0,x2:1,y2:1,children:[(0,o.jsx)("stop",{offset:0,stopColor:"#4f5bd5"}),(0,o.jsx)("stop",{offset:.1,stopColor:"#962fbf"}),(0,o.jsx)("stop",{offset:.4,stopColor:"#d62976"}),(0,o.jsx)("stop",{offset:.6,stopColor:"#fa7e1e"}),(0,o.jsx)("stop",{offset:.9,stopColor:"#feda75"})]})}),(0,o.jsx)(t.Z,{sx:{fill:"url(#linearColors)"}})]})};n.Z=function(e){var n=e.instagramId;return(0,o.jsx)(i.Z,{onClick:function(){return window.open("https://instagram.com/".concat(n),"_blank")},size:"small",children:(0,o.jsx)(s,{})})}},89698:function(e,n,r){var t=r(17237),i=r(87488),o=r(13400),s=r(80184);n.Z=function(e){var n=e.handleLike,r=e.isLike,a=void 0!==r&&r;return(0,s.jsx)(o.Z,{onClick:n,size:"small",children:a?(0,s.jsx)(t.Z,{fontSize:"small",color:"primary"}):(0,s.jsx)(i.Z,{fontSize:"small",color:"secondary"})})}},68418:function(e,n,r){var t=r(13967),i=r(95193),o=r(64554),s=r(89164),a=r(80184);n.Z=function(e){var n=e.children,r=(0,t.Z)(),c=(0,i.Z)(r.breakpoints.up("lg"));return(0,a.jsx)(o.Z,{className:"MuiPageTitle-wrapper",padding:c?3:1,children:(0,a.jsx)(s.Z,{maxWidth:"lg",children:n})})}},3973:function(e,n,r){r.r(n),r.d(n,{default:function(){return Q}});var t=r(74165),i=r(15861),o=r(29439),s=r(72791),a=r(6907),c=r(16871),l=r(43504),d=r(56030),u=r(86398),x=r(13967),p=r(95193),f=r(61889),h=r(64554),m=r(20890),g=r(20068),v=r(36151),Z=r(89164),j=r(57621),b=(r(28954),r(30225)),y=r(87137),k=r(89698),w=r(68418),D=r(66647),S=r(67414),I=r(81918),C=r(42169),z=r(34789);var P=r(2420),A=function(e){if(!e)return"";try{var n=e.replace(/<\/h[1-6]>/gi,"</h> ").replace(/<\/p>/gi,"</p> ").replace(/<\/div>/gi,"</div> ").replace(/<\/li>/gi,"</li> ").replace(/<\/blockquote>/gi,"</blockquote> ").replace(/<br\s*\/?>/gi,"<br> ").replace(/<hr\s*\/?>/gi,"<hr> "),r=document.createElement("div");return r.innerHTML=n,(r.textContent||r.innerText||"").replace(/\n/g," ").replace(/[ \t]+/g," ").trim()}catch(t){return function(e){if(!e)return"";var n={"&nbsp;":" ","&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&apos;":"'","&cent;":"\xa2","&pound;":"\xa3","&yen;":"\xa5","&euro;":"\u20ac","&copy;":"\xa9","&reg;":"\xae"},r=e;return Object.keys(n).forEach((function(e){var t=new RegExp(e,"g");r=r.replace(t,n[e])})),r=(r=(r=r.replace(/<br\s*\/?>/gi," ").replace(/<\/p>/gi," ").replace(/<\/div>/gi," ").replace(/<\/h[1-6]>/gi," ").replace(/<\/li>/gi," ").replace(/<hr\s*\/?>/gi," ").replace(/<\/blockquote>/gi," ")).replace(/<[^>]*>/g,"")).replace(/\n/g," ").replace(/[ \t]+/g," ").trim()}(e)}},O=r(63406),N=r(80184),L=new Date,R=function(e){var n=e.clubId,r=e.isDesktopOrTablet,t=(0,O.sD)(n,!1,L,0).data,i=(0,x.Z)(),o=t?new Date(t.startAt):L,s=t?(0,z.Z)(t.endAt):L,a=!!t&&(!s||L<=s),c=!!t&&(o<=L&&a),d=a&&s?Math.ceil((s.getTime()-L.getTime())/864e5):void 0,u=t?function(e){if(!e)return"";try{if("undefined"!==typeof DOMParser){var n,r=(new DOMParser).parseFromString(e,"text/html").querySelector("img");return null!==(n=null===r||void 0===r?void 0:r.getAttribute("src"))&&void 0!==n?n:""}}catch(i){}var t=e.match(/<img[^>]*\ssrc=["']?([^"'\s>]+)["']?[^>]*>/i);return t&&t[1]?t[1]:""}(t.contents):"";return(0,N.jsx)(j.Z,{children:a?(0,N.jsxs)(D.Z,{component:l.rU,to:"/club/".concat(n,"/recruit/").concat(t.id),sx:{display:"flex",flexDirection:"row",alignItems:"stretch",padding:2},children:[(0,N.jsxs)(S.Z,{direction:"column",flex:"1",spacing:1,children:[(0,N.jsx)(m.Z,{fontSize:15,fontWeight:"bold",overflow:"hidden",textOverflow:"ellipsis",children:t.title}),(0,N.jsx)(h.Z,{overflow:"hidden",textOverflow:"ellipsis",sx:{display:"-webkit-box",WebkitLineClamp:4,WebkitBoxOrient:"vertical",whiteSpace:"normal"},children:(0,N.jsx)(m.Z,{children:A(t.contents)})}),(0,N.jsxs)(S.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,N.jsx)(I.Z,{label:c?"\ubaa8\uc9d1\uc911":"\ubaa8\uc9d1\uc608\uc815",size:"small",variant:c?"filled":"outlined",color:"primary",sx:{padding:.5,fontSize:r?13:11,paddingTop:.7}}),(0,N.jsx)(m.Z,{variant:"body2",fontSize:15,color:0===d?i.colors.alpha.black[50]:i.colors.primary.main,fontWeight:"bold",children:(0,P.Z)(d)})]})]}),u&&(0,N.jsx)(C.Z,{sx:{width:120,height:150,objectFit:"cover",objectPosition:"center",minWidth:0,marginLeft:2,borderRadius:.5},component:"img",image:u})]}):(0,N.jsx)(m.Z,{color:"text.secondary",p:2,children:"\uc9c0\uae08\uc740 \ubaa8\uc9d1 \uae30\uac04\uc774 \uc544\ub2c8\uc5d0\uc694."})})},T=r(86060),E=r(28329),M=r(1413),U=r(85034),W=function(e){var n=(0,x.Z)(),r=e.year.toString().slice(2),t="SPRING"===e.semester?"1":"2";return(0,N.jsx)(I.Z,{label:"".concat(r,"-").concat(t),size:"small",sx:{borderRadius:"4px",fontSize:n.typography.body2.fontSize,fontWeight:500}})},F=r(37141),_={default:3,960:2,600:1},q=function(e){var n=e.clubId,r=(0,F.A)(n).data;return r&&r.length>0?(0,N.jsx)(h.Z,{component:U.Z,breakpointCols:_,sx:{display:"flex",marginLeft:"-16px",width:"auto","& > div":{paddingLeft:"16px",backgroundClip:"padding-box"}},children:r.map((function(e){return(0,N.jsx)(h.Z,{mb:2,children:(0,N.jsx)(G,(0,M.Z)({},e))},e.id)}))}):(0,N.jsx)(j.Z,{sx:{p:2},children:(0,N.jsx)(m.Z,{color:"text.secondary",children:"\uc544\uc9c1 \uc791\uc131\ub41c \ud6c4\uae30\uac00 \uc5c6\uc5b4\uc694."})})},G=function(e){return(0,N.jsx)(j.Z,{sx:{p:2},children:(0,N.jsxs)(S.Z,{spacing:1,children:[(0,N.jsxs)(S.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",mb:.6,children:[(0,N.jsxs)(m.Z,{variant:"body2",color:"text.secondary",children:["from. ",e.userNickname]}),(0,N.jsx)(W,{year:e.year,semester:e.semester})]}),(0,N.jsx)(m.Z,{variant:"body1",sx:{flexGrow:1},children:e.content}),e.recommendedPerson&&(0,N.jsxs)(m.Z,{variant:"body2",color:"#FF9393",children:["# ",e.recommendedPerson,"\uc5d0\uac8c \ucd94\ucc9c!"]})]})})},Q=function(){var e=(0,c.UO)().id,n=Number(e),r=(0,x.Z)(),D=(0,p.Z)(r.breakpoints.up("sm")),S=(0,s.useState)(!1),I=(0,o.Z)(S,2),C=I[0],z=I[1],P=(0,s.useState)(!1),A=(0,o.Z)(P,2),L=A[0],M=A[1],U=(0,d.Zl)(E.gU),W=(0,T.Z)().userInfo,F=(0,O.IX)(n),_=(0,O.N8)(n),G=!!(null===W||void 0===W?void 0:W.clubs.find((function(e){return e.id===n}))),Q=!!(null===W||void 0===W?void 0:W.clubs.find((function(e){return e.id===n&&("SUPERADMIN"===e.permission||"ADMIN"===e.permission)}))),Y=(0,O.dA)(n),B=Y.data,H=Y.isFetched,K=(0,O.MA)(n).data;(0,s.useEffect)((function(){H&&B&&(z(null===B||void 0===B?void 0:B.isliked),M(null===B||void 0===B?void 0:B.hasSuperadmin))}),[H]);var X=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!C){e.next=6;break}return e.next=4,_.mutateAsync();case 4:e.next=8;break;case 6:return e.next=8,F.mutateAsync();case 8:z(!C),U(!0),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(a.ql,{children:(0,N.jsx)("title",{children:B?B.name:"404 PAGE"})}),(0,N.jsx)(w.Z,{children:(0,N.jsxs)(f.ZP,{container:!0,children:[B&&(0,N.jsxs)(f.ZP,{item:!0,xs:12,md:7,children:[(0,N.jsx)(h.Z,{display:"flex",flexDirection:D?"row":"column",alignItems:D?"center":"",mb:1,children:(0,N.jsxs)(h.Z,{display:"flex",alignItems:"baseline",children:[(0,N.jsxs)(h.Z,{display:"flex",flexDirection:"row",alignItems:"center",marginRight:"10px",mt:2,children:[(0,N.jsx)(m.Z,{variant:"h3",mr:1,children:B.name}),(null===B||void 0===B?void 0:B.instagramId)&&(0,N.jsx)(y.Z,{instagramId:B.instagramId}),(0,N.jsx)(k.Z,{handleLike:X,isLike:C})]}),!L&&(0,N.jsx)(g.Z,{title:"\uc774 \ub3d9\uc544\ub9ac\ub294 \ud604\uc7ac \uc6b4\uc601\uc9c4\uc73c\ub85c \ub4f1\ub85d\ub41c \ud68c\uc6d0\uc774 \uc5c6\uc5b4\uc694!",placement:"top-end",children:(0,N.jsx)(l.rU,{to:"/club/register",target:"_blank",style:{textDecoration:"none"},children:(0,N.jsxs)(h.Z,{display:"flex",alignContent:"center",gap:1,children:[(0,N.jsxs)(m.Z,{variant:"body1",fontWeight:"bold",color:"primary",children:['"',B.name,'"\uc758 \ub300\ud45c\uc790\ub85c \ub4f1\ub85d\ud558\uae30']}),(0,N.jsx)(u.Z,{fontSize:"small",color:"primary"})]})})})]})}),(0,N.jsx)(m.Z,{variant:"subtitle2",gutterBottom:!0,children:B.description}),(0,N.jsxs)(h.Z,{children:[B.belonging&&(0,N.jsx)(b.Z,{label:B.belonging,isDesktopOrTablet:D}),B.category&&(0,N.jsx)(b.Z,{label:B.category,isDesktopOrTablet:D}),B.location&&(0,N.jsx)(b.Z,{label:B.location,isDesktopOrTablet:D})]})]}),(0,N.jsx)(f.ZP,{item:!0,container:!0,xs:12,md:5,mt:1,display:"flex",flexDirection:"column",justifyContent:"center",children:(0,N.jsx)(f.ZP,{item:!0,display:"flex",justifyContent:"center",children:Q?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(v.Z,{component:l.rU,to:"/club/".concat(n,"/profile"),variant:"contained",sx:{width:"100%",height:"50%",padding:r.spacing(.5),marginY:1,marginRight:"2%"},children:"\ub0b4 \ud65c\ub3d9"}),(0,N.jsx)(v.Z,{component:l.rU,to:"/manage/".concat(n,"/member"),variant:"contained",sx:{width:"100%",height:"50%",padding:r.spacing(.5),marginY:1,marginLeft:"2%"},color:"success",children:"\ub3d9\uc544\ub9ac \uad00\ub9ac"})]}):G&&(0,N.jsx)(v.Z,{component:l.rU,to:"/club/".concat(n,"/profile"),variant:"contained",sx:{width:"100%",padding:r.spacing(.5),marginY:1},children:"\ub0b4 \ud65c\ub3d9"})})})]})}),(0,N.jsx)(Z.Z,{maxWidth:"lg",children:B&&(0,N.jsxs)(f.ZP,{container:!0,spacing:4,children:[(0,N.jsxs)(f.ZP,{item:!0,xs:12,md:7,children:[(0,N.jsx)(m.Z,{variant:"h4",sx:{m:2},children:"\uc18c\uac1c\uae00"}),(0,N.jsx)(j.Z,{children:null!==K&&void 0!==K&&K.content?(0,N.jsx)(h.Z,{px:2,py:1,children:(0,N.jsx)("div",{className:"toastui-editor-contents",dangerouslySetInnerHTML:{__html:(null===K||void 0===K?void 0:K.content)||""}})}):(0,N.jsx)(m.Z,{color:"text.secondary",p:2,children:"\ub3d9\uc544\ub9ac\uc5d0\uc11c \uc791\uc131\ud55c \uc18c\uac1c\uae00\uc774 \uc5c6\uc5b4\uc694."})})]}),(0,N.jsxs)(f.ZP,{item:!0,xs:12,md:5,children:[(0,N.jsx)(m.Z,{variant:"h4",sx:{m:2},children:"\ubaa8\uc9d1 \uacf5\uace0"}),(0,N.jsx)(R,{clubId:n,isDesktopOrTablet:D})]}),(0,N.jsxs)(f.ZP,{item:!0,xs:12,children:[(0,N.jsx)(m.Z,{variant:"h4",sx:{m:2},children:"\ud65c\ub3d9 \ud6c4\uae30"}),(0,N.jsx)(q,{clubId:n})]})]})})]})}},37141:function(e,n,r){r.d(n,{A:function(){return p},i:function(){return x}});var t=r(74165),i=r(15861),o=r(31243),s=r(7477),a=r(98246),c=r(38025),l=r(91933),d=r(86856),u=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n,r){var i,s,a,c,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.clubId,s=n.content,a=n.year,c=n.semester,l=n.recommendedPerson,e.next=3,o.Z.post("".concat("https://dev.api.klub.kr","/club/").concat(i,"/review"),{content:s,year:a,semester:c,recommendedPerson:l,keywordIds:[]},{headers:{Authorization:r}});case 3:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),x=function(){var e=(0,a.Ds)().enqueueSnackbar,n=(0,c.cl)()(),r=(0,l.useQueryClient)();return(0,l.useMutation)((function(e){return u(e,n)}),{onSuccess:function(){e(d.uz.ADD_SUCCESS,{variant:"success"}),r.invalidateQueries("reviews")},onError:function(n){if(n instanceof s.d7){var r,t,i,o=null!==(r=null===n||void 0===n||null===(t=n.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.message)&&void 0!==r?r:d.uz.ADD_FAIL;e(o,{variant:"error"})}else e(d.uz.UNKNOWN_ERROR,{variant:"error"})}})},p=function(e){var n=(0,a.Ds)().enqueueSnackbar;return(0,l.useQuery)(["reviews",e],(function(){return function(e){return o.Z.get("".concat("https://dev.api.klub.kr","/club/").concat(e,"/review"))}(e).then((function(e){return e.data}))}),{onError:function(e){if(e instanceof s.d7){var r,t,i,o=null!==(r=null===e||void 0===e||null===(t=e.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.message)&&void 0!==r?r:d.cN.LOAD_FAIL;n(o,{variant:"error"})}else n(d.uz.UNKNOWN_ERROR,{variant:"error"})}})}},34789:function(e,n,r){function t(e){return e?new Date(e):null}r.d(n,{Z:function(){return t}})},2420:function(e,n,r){function t(e){return void 0==e?"\uc0c1\uc2dc \ubaa8\uc9d1":0==e?"\ubaa8\uc9d1 \uc885\ub8cc":e<1?"D-Day":"D-".concat(Math.floor(e))}r.d(n,{Z:function(){return t}})}}]);
//# sourceMappingURL=3973.3eb8c715.chunk.js.map