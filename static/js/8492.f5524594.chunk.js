"use strict";(self.webpackChunkklub=self.webpackChunkklub||[]).push([[8492],{68418:(e,n,r)=>{r.d(n,{Z:()=>l});var i=r(13967),t=r(95193),s=r(64554),a=r(89164),o=r(80184);const l=e=>{let{children:n}=e;const r=(0,i.Z)(),l=(0,t.Z)(r.breakpoints.up("lg"));return(0,o.jsx)(s.Z,{className:"MuiPageTitle-wrapper",padding:l?3:1,children:(0,o.jsx)(a.Z,{maxWidth:"lg",children:n})})}},1618:(e,n,r)=>{r.d(n,{Z:()=>a});var i=r(13967),t=r(81918),s=r(80184);const a=e=>{const n=(0,i.Z)(),r=e.year.toString().slice(2),a="SPRING"===e.semester?"1":"2";return(0,s.jsx)(t.Z,{label:"".concat(r,"-").concat(a),size:"small",sx:{borderRadius:"16px",fontSize:n.typography.body2.fontSize,fontWeight:500}})}},56499:(e,n,r)=>{r.d(n,{Z:()=>g});var i=r(16871),t=r(43504),s=r(74696),a=r(13967),o=r(95193),l=r(64554),c=r(61889),d=r(20890),u=r(36151),v=r(66934),x=r(12659),h=r(80184);const m=(0,v.ZP)(c.ZP)("\n    padding: 10px;\n    text-align: center;\n");const p=function(){const e=(0,i.UO)().id,n=[{name:"\ud68c\uc6d0 \uba85\ub2e8",link:"/manage/".concat(e,"/member")},{name:"\ud65c\ub3d9 \uae30\ub85d",link:"/manage/".concat(e,"/attendance")},{name:"\ud68c\ube44 \uad00\ub9ac",link:"/manage/".concat(e,"/fee")},{name:"\ubaa8\uc9d1 \uad00\ub9ac",link:"/manage/".concat(e,"/recruit")},{name:"\ud6c4\uae30 \uad00\ub9ac",link:"/manage/".concat(e,"/review")},{name:"\ub3d9\uc544\ub9ac \uc124\uc815",link:"/manage/".concat(e,"/settings")}];return(0,h.jsx)(l.Z,{mt:3,children:(0,h.jsx)(c.ZP,{container:!0,justifyContent:"space-between",children:n.map(((e,n)=>(0,h.jsx)(m,{item:!0,xs:6,sm:4,md:2,sx:window.location.pathname.startsWith(e.link)?{backgroundColor:x.r.colors.secondary.main,borderRadius:"10px"}:{},children:(0,h.jsx)(t.rU,{to:e.link,style:{textDecoration:"none",color:"black"},children:(0,h.jsx)(d.Z,{variant:"h4",sx:window.location.pathname.startsWith(e.link)?{color:"white"}:{},children:e.name})})},n)))})})};const g=function(e){let{clubName:n,buttonText:r,secondButtonText:v,link:x,secondLink:m}=e;const g=(0,i.UO)().id,w=(0,a.Z)(),b=(0,o.Z)(w.breakpoints.up("md"));return(0,h.jsxs)(l.Z,{paddingLeft:0,pr:0,children:[(0,h.jsxs)(c.ZP,{container:!0,alignItems:"center",children:[(0,h.jsxs)(c.ZP,{item:!0,xs:12,sm:4,md:4,children:[(0,h.jsxs)(l.Z,{display:"flex",flexDirection:b?"row":"column",alignItems:b?"center":"",children:[(0,h.jsx)(d.Z,{variant:"h3",component:"h3",marginRight:"15px",gutterBottom:!0,children:n}),(0,h.jsx)(t.rU,{to:"/club/".concat(g,"/profile"),style:{marginBottom:"5px",textDecoration:"none"},children:(0,h.jsx)(d.Z,{variant:"body1",fontWeight:"bold",color:"primary",children:"\ub0b4 \ud65c\ub3d9 \ubc14\ub85c\uac00\uae30"})})]}),(0,h.jsxs)(d.Z,{variant:"subtitle2",children:[n,"\uc758 \ud68c\uc6d0 \uba85\ub2e8, \ubaa8\uc9d1\u2022\ud64d\ubcf4, \ud65c\ub3d9 \ub0b4\uc5ed\uc744 \uad00\ub9ac\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"]})]}),(0,h.jsx)(c.ZP,{item:!0,xs:0,sm:0,md:4}),v?(0,h.jsx)(c.ZP,{item:!0,xs:12,sm:4,md:2,textAlign:"right",children:(0,h.jsx)(t.rU,{to:null!==m&&void 0!==m?m:"#",style:{textDecoration:"none"},children:(0,h.jsx)(u.Z,{sx:{mt:{xs:2,md:0},width:{xs:"100%",sm:"inherit"}},variant:"contained",color:"success",children:v})})}):(0,h.jsx)(c.ZP,{item:!0,xs:0,sm:4,md:2}),r&&(0,h.jsx)(c.ZP,{item:!0,xs:12,sm:4,md:2,textAlign:"center",children:(0,h.jsx)(t.rU,{to:null!==x&&void 0!==x?x:"#",style:{textDecoration:"none"},children:(0,h.jsx)(u.Z,{sx:{mt:{xs:2,md:0},width:{xs:"100%",sm:"inherit"}},variant:"contained",startIcon:(0,h.jsx)(s.Z,{fontSize:"small"}),children:r})})})]}),(0,h.jsx)(p,{})]})}},78492:(e,n,r)=>{r.r(n),r.d(n,{default:()=>I});var i=r(28683),t=r(6907),s=r(16871),a=r(95193),o=r(89164),l=r(61889),c=r(20890),d=r(68418),u=r(56499),v=r(37141),x=r(86060),h=r(72791),m=r(18384),p=r(16378),g=r(57621),w=r(67414),b=r(94721),f=r(64554),j=r(31976),Z=r(23786),y=r(1618),k=r(80184);const R=e=>{const{id:n,name:r,description:i,year:t,semester:s,content:a,keywords:o,recommendedPerson:l,userNickname:d,isHiddenByClub:u,onToggleVisibility:v}=e,[x,R]=(0,h.useState)(null),I=Boolean(x),N=()=>{R(null)},z=e=>{u!==e&&v(n,e),N()};return(0,k.jsxs)(g.Z,{sx:{p:"34px 36px 13px",borderRadius:"10px",boxShadow:"0px 2px 2px 0px rgba(159, 162, 191, 0.25), 0px 9px 16px 0px rgba(159, 162, 191, 0.18)",display:"flex",flexDirection:"column",gap:"14px"},children:[(0,k.jsxs)(w.Z,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",children:[(0,k.jsxs)(w.Z,{spacing:"3px",children:[r&&(0,k.jsx)(c.Z,{sx:{fontFamily:"Pretendard",fontSize:"13px",fontWeight:400,color:"#000000",lineHeight:1.2},children:r}),i&&(0,k.jsx)(c.Z,{sx:{fontFamily:"Pretendard",fontSize:"14px",fontWeight:400,color:"rgba(34, 51, 84, 0.7)",lineHeight:1.2},children:i})]}),(0,k.jsx)(y.Z,{year:t,semester:s})]}),(0,k.jsx)(c.Z,{sx:{fontFamily:"Pretendard",fontSize:"13px",lineHeight:"1.5",color:"#000000"},children:a}),o&&o.length>0&&(0,k.jsx)(w.Z,{spacing:"3px",children:o.map((e=>(0,k.jsxs)(w.Z,{direction:"row",alignItems:"center",spacing:"10px",maxWidth:"232px",minHeight:"41px",sx:{border:"1px solid #CCCCCC",borderRadius:"10px",padding:"4px 8px"},children:[(0,k.jsx)(c.Z,{sx:{fontSize:"13px",lineHeight:1,minWidth:"34px",textAlign:"center"},children:e.icon}),(0,k.jsx)(c.Z,{sx:{fontFamily:"Pretendard",fontSize:"13px",color:"#000000",lineHeight:1},children:e.label})]},e.id)))}),(0,k.jsxs)(w.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{pt:.5},children:[(0,k.jsx)(c.Z,{sx:{fontFamily:"Pretendard",fontSize:"13px",color:"#FF9393"},children:l?"# ".concat(l,"\uc5d0\uac8c \ucd94\ucc9c!"):""}),(0,k.jsxs)(c.Z,{sx:{fontFamily:"Pretendard",fontSize:"14px",color:"#B1B1B1"},children:["from. ",d]})]}),(0,k.jsx)(b.Z,{sx:{borderColor:"rgba(159, 162, 191, 0.25)"}}),(0,k.jsxs)(w.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",minHeight:"25.5px",children:[(0,k.jsx)(f.Z,{children:!0===u&&(0,k.jsx)(f.Z,{sx:{backgroundColor:"#B1B1B1",borderRadius:"16px",padding:"3px 7px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,k.jsx)(c.Z,{sx:{fontFamily:"Pretendard",fontSize:"13px",fontWeight:700,color:"#FFFFFF"},children:"\ube44\uacf5\uac1c"})})}),(0,k.jsx)(c.Z,{onClick:e=>{R(e.currentTarget)},sx:{fontFamily:"Pretendard",fontSize:"13px",fontWeight:700,color:"#5569FF",cursor:"pointer"},children:"\uacf5\uac1c \uc0c1\ud0dc \ubcc0\uacbd\ud558\uae30"}),(0,k.jsxs)(j.Z,{anchorEl:x,open:I,onClose:N,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,k.jsx)(Z.Z,{onClick:()=>z(!0),children:(0,k.jsxs)(w.Z,{direction:"row",spacing:1,alignItems:"center",children:[!0===u?(0,k.jsx)(m.Z,{sx:{color:"#5569FF"}}):(0,k.jsx)(p.Z,{}),(0,k.jsx)(c.Z,{children:"\ube44\uacf5\uac1c"})]})}),(0,k.jsx)(Z.Z,{onClick:()=>z(!1),children:(0,k.jsxs)(w.Z,{direction:"row",spacing:1,alignItems:"center",children:[!0!==u?(0,k.jsx)(m.Z,{sx:{color:"#5569FF"}}):(0,k.jsx)(p.Z,{}),(0,k.jsx)(c.Z,{children:"\uacf5\uac1c"})]})})]})]})]})},I=()=>{var e;const{id:n}=(0,s.UO)(),r=Number(n),{userInfo:h}=(0,x.Z)(),m=null===h||void 0===h?void 0:h.clubs.find((e=>e.id===r)),{data:p}=(0,v.$q)(r),g=(0,v.xJ)(r),w=(0,v.nb)(r),b=(e,n)=>{n?w.mutate({reviewId:e}):g.mutate({reviewId:e})},f=(0,a.Z)((e=>e.breakpoints.up("sm")));return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(t.ql,{children:(0,k.jsx)("title",{children:"\ud6c4\uae30 \uad00\ub9ac"})}),(0,k.jsx)(d.Z,{children:(0,k.jsx)(u.Z,{clubName:null!==(e=null===m||void 0===m?void 0:m.name)&&void 0!==e?e:""})}),(0,k.jsx)(o.Z,{maxWidth:"lg",sx:{px:f?2:0},children:(0,k.jsx)(l.ZP,{container:!0,spacing:3,children:null!==p&&void 0!==p&&p.length?p.map((e=>(0,k.jsx)(l.ZP,{item:!0,xs:12,children:(0,k.jsx)(R,(0,i.Z)((0,i.Z)({},e),{},{onToggleVisibility:b}))},e.id))):(0,k.jsx)(l.ZP,{item:!0,xs:12,children:(0,k.jsx)(c.Z,{align:"center",variant:"body1",color:"text.secondary",sx:{py:4},children:"\ub4f1\ub85d\ub41c \ud6c4\uae30\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})})})})]})}},37141:(e,n,r)=>{r.d(n,{$q:()=>p,AD:()=>h,J3:()=>d,J6:()=>g,NI:()=>v,TW:()=>x,ir:()=>c,nb:()=>b,tu:()=>m,xJ:()=>w});var i=r(31243),t=r(7477),s=r(98246),a=r(38025),o=r(91933),l=r(86856);const c=()=>{const{enqueueSnackbar:e}=(0,s.Ds)(),n=(0,a.cl)()(),r=(0,o.useQueryClient)();return(0,o.useMutation)((e=>(async(e,n)=>{let{clubId:r,content:t,year:s,semester:a,recommendedPerson:o,keywordIds:l}=e;await i.default.post("".concat("https://dev.api.klub.kr","/club/").concat(r,"/review"),{content:t,year:s,semester:a,recommendedPerson:o,keywordIds:l},{headers:{Authorization:n}})})(e,n)),{onSuccess:()=>{e(l.uz.ADD_SUCCESS,{variant:"success"}),r.invalidateQueries("reviews")},onError:n=>{if(n instanceof t.d7){var r,i,s;const t=null!==(r=null===n||void 0===n||null===(i=n.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message)&&void 0!==r?r:l.uz.ADD_FAIL;e(t,{variant:"error"})}else e(l.uz.UNKNOWN_ERROR,{variant:"error"})}})},d=()=>{const{enqueueSnackbar:e}=(0,s.Ds)(),n=(0,a.cl)()(),r=(0,o.useQueryClient)();return(0,o.useMutation)((e=>(async(e,n)=>{let{clubId:r,reviewId:t,content:s,year:a,semester:o,recommendedPerson:l,keywordIds:c}=e;await i.default.patch("".concat("https://dev.api.klub.kr","/club/").concat(r,"/review/").concat(t),{content:s,year:a,semester:o,recommendedPerson:l,keywordIds:c},{headers:{Authorization:n}})})(e,n)),{onSuccess:(n,i)=>{e("\ud6c4\uae30\ub97c \uc218\uc815\ud588\uc5b4\uc694.",{variant:"success"}),r.invalidateQueries(["reviews",i.clubId]),r.invalidateQueries(["adminReviews",i.clubId])},onError:n=>{if(n instanceof t.d7){var r,i,s;const t=null!==(r=null===n||void 0===n||null===(i=n.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message)&&void 0!==r?r:"\ud6c4\uae30 \uc218\uc815\uc5d0 \uc2e4\ud328\ud588\uc5b4\uc694.";e(t,{variant:"error"})}else e(l.uz.UNKNOWN_ERROR,{variant:"error"})}})},u=async(e,n)=>{let{clubId:r,reviewId:t}=e;await i.default.delete("".concat("https://dev.api.klub.kr","/club/").concat(r,"/review/").concat(t),{headers:{Authorization:n}})},v=e=>{const{enqueueSnackbar:n}=(0,s.Ds)(),r=(0,a.cl)()(),i=(0,o.useQueryClient)();return(0,o.useMutation)((n=>{let{reviewId:i}=n;return u({clubId:e,reviewId:i},r)}),{onMutate:async n=>{let{reviewId:r}=n;await i.cancelQueries(["reviews",e]);const t=i.getQueryData(["reviews",e]);return t&&i.setQueryData(["reviews",e],t.filter((e=>e.id!==r))),{previousReviews:t}},onSuccess:()=>{n("\ud6c4\uae30\ub97c \uc0ad\uc81c\ud588\uc5b4\uc694.",{variant:"success"}),i.invalidateQueries(["reviews",e]),i.invalidateQueries(["adminReviews",e])},onError:(r,s,a)=>{if(null!==a&&void 0!==a&&a.previousReviews&&i.setQueryData(["reviews",e],a.previousReviews),r instanceof t.d7){var o,c,d;const e=null!==(o=null===r||void 0===r||null===(c=r.response)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.message)&&void 0!==o?o:"\ud6c4\uae30 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc5b4\uc694.";n(e,{variant:"error"})}else n(l.uz.UNKNOWN_ERROR,{variant:"error"})}})},x=()=>{const{enqueueSnackbar:e}=(0,s.Ds)(),n=(0,a.cl)()();return(0,o.useQuery)(["userReviews"],(()=>(e=>i.default.get("".concat("https://dev.api.klub.kr","/user/reviews"),{headers:{Authorization:e}}))(n).then((e=>e.data))),{onError:n=>{if(n instanceof t.d7){var r,i,s;const t=null!==(r=null===n||void 0===n||null===(i=n.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message)&&void 0!==r?r:l.cN.LOAD_FAIL;e(t,{variant:"error"})}else e(l.uz.UNKNOWN_ERROR,{variant:"error"})}})},h=e=>{const{enqueueSnackbar:n}=(0,s.Ds)();return(0,o.useQuery)(["reviews",e],(()=>(e=>i.default.get("".concat("https://dev.api.klub.kr","/club/").concat(e,"/review")))(e).then((e=>e.data))),{onError:e=>{if(e instanceof t.d7){var r,i,s;const t=null!==(r=null===e||void 0===e||null===(i=e.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message)&&void 0!==r?r:l.cN.LOAD_FAIL;n(t,{variant:"error"})}else n(l.uz.UNKNOWN_ERROR,{variant:"error"})}})},m=e=>{const{enqueueSnackbar:n}=(0,s.Ds)();return(0,o.useQuery)(["reviewKeywords",e],(()=>(e=>i.default.get("".concat("https://dev.api.klub.kr","/club/").concat(e,"/review/keywords")))(e).then((e=>e.data))),{onError:e=>{if(e instanceof t.d7){var r,i,s;const t=null!==(r=null===e||void 0===e||null===(i=e.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message)&&void 0!==r?r:l.uz.UNKNOWN_ERROR;n(t,{variant:"error"})}else n(l.uz.UNKNOWN_ERROR,{variant:"error"})}})},p=e=>{const{enqueueSnackbar:n}=(0,s.Ds)(),r=(0,a.cl)()();return(0,o.useQuery)(["adminReviews",e],(()=>((e,n)=>i.default.get("".concat("https://dev.api.klub.kr","/club/").concat(e,"/review/admin"),{headers:{Authorization:n}}))(e,r).then((e=>e.data))),{onError:e=>{if(e instanceof t.d7){var r,i,s;const t=null!==(r=null===e||void 0===e||null===(i=e.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message)&&void 0!==r?r:l.cN.LOAD_FAIL;n(t,{variant:"error"})}else n(l.uz.UNKNOWN_ERROR,{variant:"error"})}})},g=()=>{const{enqueueSnackbar:e}=(0,s.Ds)(),n=(0,a.cl)()(),r=(0,o.useQueryClient)();return(0,o.useMutation)((e=>{let{clubId:r,reviewId:i}=e;return u({clubId:r,reviewId:i},n)}),{onMutate:async e=>{let{reviewId:n}=e;await r.cancelQueries(["userReviews"]);const i=r.getQueryData(["userReviews"]);return i&&r.setQueryData(["userReviews"],i.filter((e=>e.id!==n))),{previousReviews:i}},onSuccess:()=>{e("\ud6c4\uae30\ub97c \uc0ad\uc81c\ud588\uc5b4\uc694.",{variant:"success"}),r.invalidateQueries(["userReviews"])},onError:(n,i,s)=>{if(null!==s&&void 0!==s&&s.previousReviews&&r.setQueryData(["userReviews"],s.previousReviews),n instanceof t.d7){var a,o,c;const r=null!==(a=null===n||void 0===n||null===(o=n.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.message)&&void 0!==a?a:"\ud6c4\uae30 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc5b4\uc694.";e(r,{variant:"error"})}else e(l.uz.UNKNOWN_ERROR,{variant:"error"})}})},w=e=>{const{enqueueSnackbar:n}=(0,s.Ds)(),r=(0,a.cl)()(),c=(0,o.useQueryClient)();return(0,o.useMutation)((n=>{let{reviewId:t}=n;return(async(e,n)=>{let{clubId:r,reviewId:t}=e;await i.default.patch("".concat("https://dev.api.klub.kr","/club/").concat(r,"/review/").concat(t,"/hide"),{},{headers:{Authorization:n}})})({clubId:e,reviewId:t},r)}),{onSuccess:()=>{n("\ud6c4\uae30\ub97c \ube44\uacf5\uac1c \ucc98\ub9ac\ud588\uc5b4\uc694.",{variant:"success"}),c.invalidateQueries(["adminReviews",e]),c.invalidateQueries(["reviews",e])},onError:e=>{if(e instanceof t.d7){var r,i,s;const t=null!==(r=null===e||void 0===e||null===(i=e.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message)&&void 0!==r?r:"\ud6c4\uae30 \ube44\uacf5\uac1c \ucc98\ub9ac\uc5d0 \uc2e4\ud328\ud588\uc5b4\uc694.";n(t,{variant:"error"})}else n(l.uz.UNKNOWN_ERROR,{variant:"error"})}})},b=e=>{const{enqueueSnackbar:n}=(0,s.Ds)(),r=(0,a.cl)()(),c=(0,o.useQueryClient)();return(0,o.useMutation)((n=>{let{reviewId:t}=n;return(async(e,n)=>{let{clubId:r,reviewId:t}=e;await i.default.patch("".concat("https://dev.api.klub.kr","/club/").concat(r,"/review/").concat(t,"/show"),{},{headers:{Authorization:n}})})({clubId:e,reviewId:t},r)}),{onSuccess:()=>{n("\ud6c4\uae30\ub97c \uacf5\uac1c \ucc98\ub9ac\ud588\uc5b4\uc694.",{variant:"success"}),c.invalidateQueries(["adminReviews",e]),c.invalidateQueries(["reviews",e])},onError:e=>{if(e instanceof t.d7){var r,i,s;const t=null!==(r=null===e||void 0===e||null===(i=e.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message)&&void 0!==r?r:"\ud6c4\uae30 \uacf5\uac1c \ucc98\ub9ac\uc5d0 \uc2e4\ud328\ud588\uc5b4\uc694.";n(t,{variant:"error"})}else n(l.uz.UNKNOWN_ERROR,{variant:"error"})}})}}}]);
//# sourceMappingURL=8492.f5524594.chunk.js.map