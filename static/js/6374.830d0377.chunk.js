"use strict";(self.webpackChunkklub=self.webpackChunkklub||[]).push([[6374],{26374:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var i=n(45987),a=n(28683),l=n(72791),s=n(6907),r=n(16871),o=n(27848),c=n(89164),d=n(64554),h=n(57621),u=n(20890),x=n(67414),v=n(36151),m=n(13400),Z=n(79908),p=n(77907),j=n(98937),b=n(33260),C=n(22951),f=n(80872),k=n(21863),g=n(57005),z=n(13967),S=n(27391),y=n(82271),I=n(16378),M=n(80184);const w=e=>{let{index:t,choice:n,onChange:i,handleDelete:a}=e;return(0,M.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,M.jsx)(I.Z,{fontSize:"small"}),(0,M.jsx)(S.Z,{name:String(t),onChange:i,variant:"standard",value:n,required:!0,sx:{ml:2,maxWidth:500},placeholder:"\ucd5c\ub300 30\uc790"}),(0,M.jsx)(m.Z,{sx:{ml:2},onClick:a,name:"".concat(t),children:(0,M.jsx)(y.Z,{fontSize:"small",color:"disabled"})})]})},B=e=>{let{index:t,question:n,handleDeleteQuestion:i,handleQuestionFieldChange:a,handleChangeIsEssential:s,handleChangeQuestionType:r,handleCheckBoxType:o,handleOptionFieldChangeSync:c}=e;const h=(0,z.Z)(),{spacing:x}=h,{viewId:v,contents:p,isCheckBox:j,options:b,isEssential:C,isMultiSelectable:f}=n,[k,g]=(0,l.useState)(b||[]),y=e=>{let{target:{name:t,value:n}}=e;const i=Number(t);g((e=>e.map(((e,t)=>t===i?n:e)))),c(v,k)},I=e=>{let{currentTarget:t}=e;const n=Number(t.name);g((e=>e.filter(((e,t)=>t!==n))))};return(0,M.jsxs)(d.Z,{position:"relative",sx:{border:1,borderRadius:2,borderColor:h.palette.grey[300],padding:2,mb:2},children:[(0,M.jsxs)(u.Z,{variant:"h6",sx:{marginBottom:x(.5),textAlign:"left"},children:["\uc9c8\ubb38 ",t+1]}),(0,M.jsx)(S.Z,{name:String(v),onChange:a,variant:"standard",placeholder:"\uc9c8\ubb38\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",value:p,helperText:"".concat(p.length," / ").concat(500),inputProps:{maxLength:500},multiline:!0,fullWidth:!0,maxRows:4,required:!0,sx:{margin:x(1,0),padding:x(1,0),"& label":{fontSize:"1.25rem"},"& .MuiFormHelperText-root":{textAlign:"right"}}}),j&&k&&(0,M.jsxs)(M.Fragment,{children:[k.map(((e,t)=>(0,M.jsx)(w,{index:t,choice:e,onChange:y,handleDelete:I},t))),(0,M.jsxs)(m.Z,{sx:{maxWith:500,pl:0,display:"block"},onClick:()=>{k.length>=20||g((e=>[...e,""]))},disabled:20===(null===b||void 0===b?void 0:b.length),children:[(0,M.jsx)(Z.Z,{fontSize:"small"}),(0,M.jsx)(u.Z,{variant:"button",mx:2,children:"\xa0\uc120\ud0dd\uc9c0 \ucd94\uac00"}),(0,M.jsxs)(u.Z,{variant:"caption",color:"text.secondary",children:[k.length,"/",20]})]})]}),(0,M.jsxs)(d.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-end",children:[(0,M.jsx)(H,{onClick:s(v),isEssential:C}),j&&(0,M.jsx)(L,{onClick:o(v),isMultiSelectable:f}),(0,M.jsx)(E,{onClick:r(v),isCheckBox:j}),(0,M.jsx)(D,{onClick:i(v)})]})]})},D=e=>{let{onClick:t}=e;return(0,M.jsxs)(m.Z,{type:"button","aria-label":"\uc9c8\ubb38 \uc0ad\uc81c\ud558\uae30",color:"error",onClick:t,children:[(0,M.jsx)(f.Z,{fontSize:"small"}),(0,M.jsx)(u.Z,{variant:"button",children:"\xa0\uc0ad\uc81c"})]})},E=e=>{let{onClick:t,isCheckBox:n}=e;return(0,M.jsxs)(m.Z,{type:"button","aria-label":"\uc9c8\ubb38 \uc720\ud615 \ubcc0\uacbd\ud558\uae30",onClick:t,children:[n?(0,M.jsx)(C.Z,{fontSize:"small"}):(0,M.jsx)(g.Z,{fontSize:"small"}),(0,M.jsxs)(u.Z,{variant:"button",children:["\xa0",n?"\uc120\ud0dd\ud615":"\uc7a5\ubb38\ud615"]})]})},L=e=>{let{onClick:t,isMultiSelectable:n}=e;return(0,M.jsxs)(m.Z,{type:"button","aria-label":"\uc120\ud0dd \uac1c\uc218 \ubcc0\uacbd\ud558\uae30",onClick:t,children:[n?(0,M.jsx)(b.Z,{fontSize:"small"}):(0,M.jsx)(k.Z,{fontSize:"small"}),(0,M.jsxs)(u.Z,{variant:"button",children:["\xa0",n?"\ub2e4\uc911\uc120\ud0dd":"\ub2e8\uc77c\uc120\ud0dd"]})]})},H=e=>{let{onClick:t,isEssential:n}=e;return(0,M.jsxs)(m.Z,{type:"button","aria-label":"\ud544\uc218 \uc5ec\ubd80 \ubcc0\uacbd\ud558\uae30",onClick:t,children:[n?(0,M.jsx)(p.Z,{fontSize:"small"}):(0,M.jsx)(j.Z,{fontSize:"small"}),(0,M.jsx)(u.Z,{variant:"button",children:"\xa0\ud544\uc218\ud56d\ubaa9"})]})};var O=n(74529);const V=["contents","viewId","options","isCheckBox"],q=0,N=7,Q={contents:"",isCheckBox:!1,isMultiSelectable:!1,viewId:0,isEssential:!0},R=()=>{const{id:e,recruitId:t}=(0,r.UO)(),n=Number(e),o=Number(t),m=(0,r.s0)(),Z=(0,l.useRef)(1),[p,j]=(0,l.useState)([Q]),{data:b}=(0,O.b)(n,o),C=(0,O.C)();(0,l.useEffect)((()=>{if(b){if(b.every((e=>0===e.contents.length)))return;return j(b.map((e=>(0,a.Z)((0,a.Z)({},e),{},{viewId:e.id})))),void(Z.current=b.length+1)}j([])}),[b]);const f=e=>{let{target:{name:t,value:n}}=e;const i=Number(t),l=p.findIndex((e=>{let{viewId:t}=e;return t===i}));j((e=>{const t=[...e];return t[l].contents=n,t})),j(p.map(((e,t)=>t===l?(0,a.Z)((0,a.Z)({},e),{},{contents:n}):e)))},k=e=>()=>{j((t=>t.filter((t=>{let{viewId:n}=t;return n!==e}))))},g=e=>()=>{j((t=>t.map((t=>t.viewId===e?(0,a.Z)((0,a.Z)({},t),{},{isCheckBox:!t.isCheckBox}):t))))},z=e=>()=>{j((t=>t.map((t=>t.viewId===e?(0,a.Z)((0,a.Z)({},t),{},{isMultiSelectable:!t.isMultiSelectable}):t))))},S=e=>()=>{j((t=>t.map((t=>t.viewId===e?(0,a.Z)((0,a.Z)({},t),{},{isEssential:!t.isEssential}):t))))},y=(e,t)=>{j((n=>n.map((n=>n.viewId===e?(0,a.Z)((0,a.Z)({},n),{},{options:t}):n))))};return(0,M.jsxs)(c.Z,{maxWidth:"lg",sx:{minHeight:"70vh",display:"flex",justifyContent:"center",marginTop:10},children:[(0,M.jsx)(s.ql,{children:(0,M.jsx)("title",{children:"\uc2e0\uccad\ud3fc \uad00\ub9ac"})}),(0,M.jsx)(c.Z,{maxWidth:"lg",children:(0,M.jsxs)(d.Z,{component:"form",onSubmit:async e=>{e.preventDefault();const t=p.map((e=>{let{contents:t,viewId:n,options:l,isCheckBox:s}=e,r=(0,i.Z)(e,V);return(0,a.Z)({contents:t.trim(),options:s?null===l||void 0===l?void 0:l.map((e=>e.trim())):[],isCheckBox:s},r)}));C.mutate({clubId:n,recruitId:o,questions:t}),m("/manage/".concat(n,"/recruit"))},children:[(0,M.jsx)(h.Z,{children:(0,M.jsxs)(d.Z,{p:{xs:2,md:5},children:[(0,M.jsx)(u.Z,{variant:"h2",children:"\uc2e0\uccad\ud3fc \uad00\ub9ac"}),(0,M.jsx)(u.Z,{variant:"subtitle1",children:"".concat(q,"\uac1c\ubd80\ud130 ").concat(N,"\uac1c\uae4c\uc9c0 \uc791\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.")}),(0,M.jsxs)(d.Z,{mt:3,sx:{display:"flex",flexDirection:"column"},children:[p.map(((e,t)=>(0,M.jsx)(B,{question:e,index:t,handleChangeQuestionType:g,handleCheckBoxType:z,handleDeleteQuestion:k,handleQuestionFieldChange:f,handleChangeIsEssential:S,handleOptionFieldChangeSync:y},t))),(0,M.jsx)(T,{onClick:()=>{p.length>=N||(j([...p,(0,a.Z)((0,a.Z)({},Q),{},{viewId:Z.current})]),Z.current+=1)},disabled:p.length>=N})]})]})}),(0,M.jsxs)(x.Z,{mt:2,pb:2,direction:"row",spacing:2,justifyContent:"center",children:[(0,M.jsx)(v.Z,{type:"button",variant:"outlined",onClick:()=>{m("/manage/".concat(n,"/recruit"))},sx:{width:"50%",maxWidth:"120px"},children:"\ub4a4\ub85c\uac00\uae30"}),(0,M.jsx)(v.Z,{type:"submit",variant:"contained",sx:{width:"50%",maxWidth:"120px"},children:"\uc9c8\ubb38 \uc218\uc815"})]})]})})]})},T=e=>{let{onClick:t,disabled:n}=e;return(0,M.jsxs)(m.Z,{type:"button","aria-label":"\uc9c8\ubb38 \ucd94\uac00\ud558\uae30",color:"primary",onClick:t,disabled:n,sx:{margin:"0 auto",justifySelf:"center"},children:[(0,M.jsx)(o.Z,{fontSize:"small"}),(0,M.jsx)(u.Z,{variant:"button",children:"\xa0\uc9c8\ubb38 \ucd94\uac00\ud558\uae30"})]})}},74529:(e,t,n)=>{n.d(t,{C:()=>c,b:()=>d});var i=n(31243),a=n(7477),l=n(98246),s=n(38025),r=n(91933),o=n(86856);const c=()=>{const{enqueueSnackbar:e}=(0,l.Ds)(),t=(0,s.cl)()(),n=(0,r.useQueryClient)();return(0,r.useMutation)("postQuestion",(e=>(async(e,t)=>{let{clubId:n,recruitId:a,questions:l}=e;await i.default.put("".concat("https://dev.api.klub.kr","/club/").concat(n,"/recruit/").concat(a,"/question"),l,{headers:{Authorization:t}})})(e,t)),{onSuccess:()=>{e(o.P6.ADD_QUESTION_SUCCESS,{variant:"success"}),n.invalidateQueries("questions")},onError:t=>{t instanceof a.d7?e(o.P6.ADD_QUESTION_FAIL,{variant:"error"}):e(o.uz.UNKNOWN_ERROR,{variant:"error"})}})},d=(e,t)=>{const{enqueueSnackbar:n}=(0,l.Ds)(),c=(0,s.cl)()();return(0,r.useQuery)(["questions"],(e=>{let{clubId:t,token:n,recruitId:a}=e;return async()=>(await i.default.get("".concat("https://dev.api.klub.kr","/club/").concat(t,"/recruit/").concat(a,"/question"),{headers:{Authorization:n}})).data})({clubId:e,recruitId:t,token:c}),{onError:e=>{var t,i;e instanceof a.d7?n((null===(t=e.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.message)||o.uz.LOAD_FAIL,{variant:"error"}):n(o.uz.UNKNOWN_ERROR,{variant:"error"})},retry:0})}},79908:(e,t,n)=>{var i=n(64836);t.Z=void 0;var a=i(n(45649)),l=n(80184),s=(0,a.default)((0,l.jsx)("path",{d:"M22 5.18 10.59 16.6l-4.24-4.24 1.41-1.41 2.83 2.83 10-10L22 5.18zM12 20c-4.41 0-8-3.59-8-8s3.59-8 8-8c1.57 0 3.04.46 4.28 1.25l1.45-1.45C16.1 2.67 14.13 2 12 2 6.48 2 2 6.48 2 12s4.48 10 10 10c1.73 0 3.36-.44 4.78-1.22l-1.5-1.5c-1 .46-2.11.72-3.28.72zm7-5h-3v2h3v3h2v-3h3v-2h-3v-3h-2v3z"}),"AddTask");t.Z=s},77907:(e,t,n)=>{var i=n(64836);t.Z=void 0;var a=i(n(45649)),l=n(80184),s=(0,a.default)((0,l.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");t.Z=s},98937:(e,t,n)=>{var i=n(64836);t.Z=void 0;var a=i(n(45649)),l=n(80184),s=(0,a.default)((0,l.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank");t.Z=s},27848:(e,t,n)=>{var i=n(64836);t.Z=void 0;var a=i(n(45649)),l=n(80184),s=(0,a.default)((0,l.jsx)("path",{d:"M12 7c-.55 0-1 .45-1 1v3H8c-.55 0-1 .45-1 1s.45 1 1 1h3v3c0 .55.45 1 1 1s1-.45 1-1v-3h3c.55 0 1-.45 1-1s-.45-1-1-1h-3V8c0-.55-.45-1-1-1zm0-5C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"ControlPointRounded");t.Z=s},82271:(e,t,n)=>{var i=n(64836);t.Z=void 0;var a=i(n(45649)),l=n(80184),s=(0,a.default)((0,l.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");t.Z=s},33260:(e,t,n)=>{var i=n(64836);t.Z=void 0;var a=i(n(45649)),l=n(80184),s=(0,a.default)((0,l.jsx)("path",{d:"m18 7-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41 6 19l1.41-1.41L1.83 12 .41 13.41z"}),"DoneAll");t.Z=s},22951:(e,t,n)=>{var i=n(64836);t.Z=void 0;var a=i(n(45649)),l=n(80184),s=(0,a.default)((0,l.jsx)("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"}),"FormatListBulleted");t.Z=s},80872:(e,t,n)=>{var i=n(64836);t.Z=void 0;var a=i(n(45649)),l=n(80184),s=(0,a.default)((0,l.jsx)("path",{d:"M13.89 8.7 12 10.59 10.11 8.7a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41L10.59 12 8.7 13.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l1.89 1.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l1.89-1.89c.39-.39.39-1.02 0-1.41-.39-.38-1.03-.38-1.41 0zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"HighlightOffRounded");t.Z=s},21863:(e,t,n)=>{var i=n(64836);t.Z=void 0;var a=i(n(45649)),l=n(80184),s=(0,a.default)((0,l.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-7-2h2V7h-4v2h2z"}),"LooksOneOutlined");t.Z=s},16378:(e,t,n)=>{var i=n(64836);t.Z=void 0;var a=i(n(45649)),l=n(80184),s=(0,a.default)((0,l.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked");t.Z=s},57005:(e,t,n)=>{var i=n(64836);t.Z=void 0;var a=i(n(45649)),l=n(80184),s=(0,a.default)((0,l.jsx)("path",{d:"M2.5 4v3h5v12h3V7h5V4h-13zm19 5h-9v3h3v7h3v-7h3V9z"}),"TextFields");t.Z=s}}]);
//# sourceMappingURL=6374.830d0377.chunk.js.map