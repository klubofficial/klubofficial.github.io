"use strict";(self.webpackChunkklub=self.webpackChunkklub||[]).push([[8231],{86279:function(n,e,t){var i=t(16871),c=t(67414),d=t(36151),o=t(80184);e.Z=function(n){var e=n.handleSubmit,t=n.handleCancel,s=n.displayCancelBtn,l=void 0===s||s,r=n.submitBtnText,a=void 0===r?"\ub4f1\ub85d":r,u=n.cancelBtnText,x=void 0===u?"\ucde8\uc18c":u,f=(0,i.s0)();return(0,o.jsxs)(c.Z,{mt:2,pb:2,direction:"row",spacing:2,justifyContent:"center",children:[l&&(0,o.jsx)(d.Z,{color:"error",variant:"outlined",sx:{width:"50%",maxWidth:"120px"},onClick:function(n){void 0===t?f(-1):t(n)},children:x}),(0,o.jsx)(d.Z,{color:"success",variant:"contained",onClick:e,sx:{width:"50%",maxWidth:"120px"},children:a})]})}},48231:function(n,e,t){t.r(e),t.d(e,{default:function(){return P}});var i=t(1413),c=t(29439),d=t(72791),o=t(6907),s=t(16871),l=t(13967),r=t(64554),a=t(89164),u=t(57621),x=t(61889),f=t(20890),h=t(27391),v=t(34265),m=t(22501),j=t(89e3),p=t(43395),Z=t(91330),b=t(33788),w=t(69898),C=t(36571),g=t(11452),S=t(7792),k=[{field:"name",headerName:"\uc774\ub984",flex:1},{field:"studentId",headerName:"\ud559\ubc88",flex:1},{field:"department",headerName:"\uc18c\uc18d \ud559\ubd80/\ud559\uacfc",flex:1},{field:"level",headerName:"\ud68c\uc6d0 \ub4f1\uae09",flex:1}],y=t(86279),I=t(45552),N=t(80184),P=function(){var n,e=(0,l.Z)(),t=(0,s.s0)(),P=(0,d.useState)([]),T=(0,c.Z)(P,2),A=T[0],B=T[1],R=(0,d.useState)(null),E=(0,c.Z)(R,2),L=E[0],M=E[1],O=(0,s.UO)(),U=O.id,W=O.confId,_=O.meetingId,q=Number(U),D=Number(W),H=Number(_),$=(0,I.hT)(q,D,H),z=$.data,F=$.isSuccess,G=(0,I.hs)(q,D,H),J=G.data,K=G.isSuccess,Q=(0,I.xU)(),V=(0,I.I)(q,D,H);(0,d.useEffect)((function(){null!==z&&void 0!==z&&z.startAt&&M(null===z||void 0===z?void 0:z.startAt)}),[z]),(0,d.useEffect)((function(){var n,e=[];null===J||void 0===J||null===(n=J.conferenceParticipants)||void 0===n||n.forEach((function(n){var t;1==(null===(t=n.attendances.find((function(n){return n.conferenceRoundId==H})))||void 0===t?void 0:t.attendanceType)&&n.user.id&&e.push(n.user.id)})),B(e)}),[J]);return(0,N.jsxs)(r.Z,{m:3,children:[(0,N.jsx)(o.ql,{children:(0,N.jsx)("title",{children:"".concat(z?null===z||void 0===z?void 0:z.round:"","\ud68c\ucc28 \uad00\ub9ac")})}),(0,N.jsx)(a.Z,{children:(0,N.jsx)(u.Z,{children:(0,N.jsxs)(r.Z,{m:3,children:[(0,N.jsxs)(x.ZP,{container:!0,sx:{justifyContent:"center"},children:[(0,N.jsxs)(x.ZP,{item:!0,xs:12,md:7.5,children:[(0,N.jsx)(f.Z,{variant:"h4",component:"h4",children:"".concat(z?null===z||void 0===z?void 0:z.round:"","\ud68c\ucc28 \uad00\ub9ac")}),(0,N.jsxs)(r.Z,{sx:{mt:1},children:[(0,N.jsxs)(r.Z,{display:"flex",alignItems:"baseline",children:[(0,N.jsx)(f.Z,{variant:"h4",color:e.colors.primary.main,display:"inline-block",children:"\ucd9c\uc11d"}),(0,N.jsx)(f.Z,{variant:"caption",marginLeft:"0.4em",children:"\ud589\uc0ac\uc5d0 \ucc38\uc5ec\ud55c \ud68c\uc6d0\uc744 \ubaa8\ub450 \uccb4\ud06c\ud574\uc8fc\uc138\uc694"})]}),(0,N.jsx)(w._$,{autoHeight:!0,checkboxSelection:!0,rowSelectionModel:A,onRowSelectionModelChange:function(n){B(n)},rows:null!==(n=null===J||void 0===J?void 0:J.conferenceParticipants.map((function(n){return n.user})))&&void 0!==n?n:[],columns:k,slots:{toolbar:function(){return(0,N.jsxs)(v.D,{sx:{justifyContent:"space-between"},children:[(0,N.jsx)(m.S,{}),(0,N.jsx)(j.M,{sx:{"& svg":{width:"18px",height:"18px"}}}),(0,N.jsx)(p.L,{}),(0,N.jsx)(Z.Zh,{}),(0,N.jsx)(b.T,{})]})}},disableRowSelectionOnClick:!0,sx:{mt:1}})]})]}),(0,N.jsx)(x.ZP,{item:!0,xs:12,md:4.5,children:L&&(0,N.jsx)(r.Z,{paddingLeft:{xs:3},paddingBottom:{xs:0},children:(0,N.jsx)(C._,{dateAdapter:S.y,children:(0,N.jsx)(g.w,{label:"".concat(z?null===z||void 0===z?void 0:z.round:"","\ud68c\ucc28 \uc77c\uc790"),value:L,onChange:function(n){null!=n&&M(n)},componentsProps:{actionBar:{actions:[]}},renderInput:function(n){return(0,N.jsx)(h.Z,(0,i.Z)({sx:{display:"none"}},n))}})})})})]}),(0,N.jsx)(y.Z,{handleSubmit:function(){if(L){if(F&&K){var n=new Set(A),e=J.conferenceParticipants.filter((function(n){return n.attendances.length>0})).map((function(e){return{id:e.attendances[0].id,attendanceType:n.has(e.user.id)?1:0}}));Q.mutate({clubId:q,conferenceId:D,conferenceRoundId:H,note:null===z||void 0===z?void 0:z.note,startAt:L}),V.mutate(e)}t(-1)}},handleCancel:function(){null!==z&&void 0!==z&&z.startAt&&M(null===z||void 0===z?void 0:z.startAt)},submitBtnText:"\uc800\uc7a5"})]})})})]})}}}]);
//# sourceMappingURL=8231.db21880e.chunk.js.map