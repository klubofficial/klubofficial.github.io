"use strict";(self.webpackChunkklub=self.webpackChunkklub||[]).push([[230],{2460:function(n,e,t){var i=t(3542),s=t(4554),r=t(890),o=t(6151),c=t(184);e.Z=function(n){var e=n.open,t=n.handleClose,l=n.handleSubmit,a=n.confirmMessage,d=void 0===a?"\uc815\ub9d0 \uc2e4\ud589\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?":a;return(0,c.jsx)(i.Z,{open:e,onClose:t,children:(0,c.jsxs)(s.Z,{textAlign:"center",p:3,children:[(0,c.jsx)(r.Z,{variant:"h4",color:"primary",children:d}),(0,c.jsxs)(s.Z,{display:"flex",justifyContent:"space-evenly",mt:2,children:[(0,c.jsx)(o.Z,{variant:"outlined",onClick:t,children:"\ucde8\uc18c"}),(0,c.jsx)(o.Z,{variant:"contained",color:"error",onClick:l,children:"\ud655\uc778"})]})]})})}},3230:function(n,e,t){t.r(e),t.d(e,{default:function(){return H}});var i=t(9439),s=t(3263),r=t(2791),o=t(6871),c=t(1614),l=t(1889),a=t(4554),d=t(6151),u=t(3433),h=t(7621),x=t(9585),p=t(4721),Z=t(9281),j=t(9836),f=t(6890),m=t(5855),v=t(3994),g=t(9174),k=t(7488),C=t(890),b=t(184),y=function(n){var e=n.items,t=n.title,i=n.selectedItems,s=n.setSelectedItems,r=n.BulkActions,o=n.properties,c=n.handleClick,l=i.length>0&&i.length<e.length,d=i.length===e.length,y=i.length>0;return(0,b.jsxs)(h.Z,{children:[y?(0,b.jsxs)(a.Z,{height:"55px",children:[(0,b.jsx)(a.Z,{flex:1,p:1,children:r})," "]}):(0,b.jsx)(x.Z,{title:t}),(0,b.jsx)(p.Z,{}),(0,b.jsx)(Z.Z,{sx:{height:"50vh"},children:(0,b.jsxs)(j.Z,{children:[(0,b.jsx)(f.Z,{children:(0,b.jsxs)(m.Z,{children:[(0,b.jsx)(v.Z,{padding:"checkbox",children:(0,b.jsx)(g.Z,{color:"primary",checked:d,indeterminate:l,onChange:function(n){s(n.target.checked?e&&e.map((function(n){return n.id})):[])}})}),o.map((function(n){return(0,b.jsx)(v.Z,{children:n.header})}))]})}),(0,b.jsx)(k.Z,{children:e&&e.map((function(n,e){var t=i.includes(n.id);return(0,b.jsxs)(m.Z,{hover:!0,id:n.id,onClick:function(){c(e)},children:[(0,b.jsx)(v.Z,{padding:"checkbox",children:(0,b.jsx)(g.Z,{color:"primary",checked:t,onClick:function(n){return n.stopPropagation()},onChange:function(e){return t=n.id,void(i.includes(t)?s((function(n){return n.filter((function(n){return n!==t}))})):s((function(n){return[].concat((0,u.Z)(n),[t])})));var t},value:t})}),o.map((function(e,t){return(0,b.jsx)(v.Z,{sx:{cursor:"pointer"},children:(0,b.jsx)(C.Z,{variant:"body1",fontWeight:0===t&&"bold",gutterBottom:!0,noWrap:!0,children:n[e.property]})})}))]},n.id)}))})]})})]})},w=t(6934),I=t(464),A=t(439),S=t(298),q=t(6951),P=t(2460),R=(0,w.ZP)(d.Z)((function(n){var e=n.theme;return"\n     background: ".concat(e.colors.error.main,";\n     color: ").concat(e.palette.error.contrastText,";\n\n     &:hover {\n        background: ").concat(e.colors.error.dark,";\n     }\n    ")})),F=(0,w.ZP)(d.Z)((function(n){var e=n.theme;return"\n       background: ".concat(e.colors.success.main,";\n       color: ").concat(e.palette.success.contrastText,";\n  \n       &:hover {\n          background: ").concat(e.colors.success.dark,";\n       }\n      ")}));var M,T=function(n){var e=n.selectedApplicants,t=n.onCloseModal,c=(0,S.cl)(),l=(0,q.Ds)().enqueueSnackbar,d=(0,o.s0)(),u=(0,o.UO)(),h=(0,r.useState)(),x=(0,i.Z)(h,2),p=x[0],Z=x[1],j=(0,r.useState)("FAIL"),f=(0,i.Z)(j,2),m=f[0],v=f[1],g=function(n){var t=e.map((function(e){return{userId:e,result:n}}));k(t)},k=function(n){s.Z.put("".concat("https://54.243.183.19.nip.io","/apply/results?clubId=").concat(u.id),n,{headers:{Authorization:c()}}).then((function(n){if("ok"!==n.data.message)throw new Error;l("\uc815\uc0c1\uc801\uc73c\ub85c \ucc98\ub9ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",{variant:"success"}),t?t():d(-1)})).catch((function(n){var e;l("".concat(null===(e=n.response.data)||void 0===e?void 0:e.message," \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc2ed\uc2dc\uc624."),{variant:"error"})}))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(a.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",children:(0,b.jsxs)(a.Z,{display:"flex",alignItems:"center",children:[(0,b.jsx)(R,{sx:{ml:1},startIcon:(0,b.jsx)(A.Z,{}),variant:"contained",onClick:function(){v("FAIL"),Z(!0)},children:"\ubd88\ud569\uaca9"}),(0,b.jsx)(F,{sx:{ml:1},startIcon:(0,b.jsx)(I.Z,{}),variant:"contained",onClick:function(){v("PASS"),Z(!0)},children:"\ud569\uaca9"})]})}),(0,b.jsx)(P.Z,{open:p,handleClose:function(){Z(!1)},handleSubmit:function(){return g(m)},confirmMessage:"\uc815\ub9d0 ".concat("FAIL"===m?"\ubd88":"","\ud569\uaca9\ucc98\ub9ac \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")})]})},W=t(168),B=t(1747),E=t(8446),L=t(8333),z=t(2156),D=t(3967),O=t(5193),U={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:"600px",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},N=(0,w.ZP)(B.Z)(M||(M=(0,W.Z)(["\n  margin: 10px 0px;\n  padding: 8px;\n  width: 100%;\n  border-radius: 5px;\n  border: 1px solid lightgrey;\n  font-family: 'Pretendard';\n"]))),G=function(n){var e,t,s,o,c,l,u,h,x=n.open,p=n.onClose,Z=n.questions,j=n.Applicants,f=n.current,m=(0,r.useState)(f),v=(0,i.Z)(m,2),g=v[0],k=v[1],y=j.length,w=(0,D.Z)(),I=(0,O.Z)(w.breakpoints.up("sm"));(0,r.useEffect)((function(){k(f)}),[x]);var A=function(){k((g+1)%y)},S=function(){k(0===g?y-1:g-1)};return(0,b.jsx)(E.Z,{open:x,onClose:p,children:(0,b.jsxs)(a.Z,{sx:U,children:[(0,b.jsxs)(a.Z,{justifyContent:"center",children:[(0,b.jsxs)(C.Z,{variant:"h3",sx:{textAlign:"center"},children:[null===(e=j[g])||void 0===e?void 0:e.name," \ub2d8 \uc758 \uc9c0\uc6d0\uc11c"]}),(0,b.jsxs)(C.Z,{variant:"subtitle2",sx:{mb:2,textAlign:"center"},children:[null===(t=j[g])||void 0===t?void 0:t.studentId," / ",null===(s=j[g])||void 0===s?void 0:s.department]})]}),(0,b.jsxs)(a.Z,{display:"flex",alignItems:"center",justifyContent:"space-around",children:[I&&(0,b.jsx)(d.Z,{onClick:S,children:(0,b.jsx)(z.Z,{})}),(0,b.jsxs)(a.Z,{width:I?"60%":"90%",children:[Z.question1&&(0,b.jsxs)(a.Z,{children:[(0,b.jsx)(C.Z,{variant:"subtitle1",children:Z.question1}),(0,b.jsx)(N,{maxRows:4,minRows:3,value:null===(o=j[g])||void 0===o?void 0:o.answer1,disabled:!0})]}),Z.question2&&(0,b.jsxs)(a.Z,{children:[(0,b.jsx)(C.Z,{variant:"subtitle1",children:Z.question2}),(0,b.jsx)(N,{maxRows:4,minRows:3,value:null===(c=j[g])||void 0===c?void 0:c.answer2,disabled:!0})]}),Z.question3&&(0,b.jsxs)(a.Z,{children:[(0,b.jsx)(C.Z,{variant:"subtitle1",children:Z.question3}),(0,b.jsx)(N,{maxRows:4,minRows:3,value:null===(l=j[g])||void 0===l?void 0:l.answer3,disabled:!0})]})]}),I&&(0,b.jsx)(d.Z,{onClick:A,children:(0,b.jsx)(L.Z,{})})]}),I?(0,b.jsxs)(a.Z,{marginTop:2,display:"flex",justifyContent:"center",children:[(0,b.jsx)(T,{selectedApplicants:[null===(u=j[g])||void 0===u?void 0:u.id],onCloseModal:p}),(0,b.jsx)(d.Z,{variant:"outlined",onClick:p,sx:{ml:1,mt:!I&&1},children:"\ub2eb\uae30"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(a.Z,{marginTop:2,display:"flex",justifyContent:"center",children:(0,b.jsx)(T,{selectedApplicants:[null===(h=j[g])||void 0===h?void 0:h.id],onCloseModal:p})}),(0,b.jsxs)(a.Z,{display:"flex",justifyContent:"space-around",sx:{mt:2},children:[(0,b.jsx)(d.Z,{onClick:S,children:(0,b.jsx)(z.Z,{})}),(0,b.jsx)(d.Z,{variant:"outlined",onClick:p,children:"\ub2eb\uae30"}),(0,b.jsx)(d.Z,{onClick:A,children:(0,b.jsx)(L.Z,{})})]})]})]})})},H=function(){var n=(0,r.useState)([]),e=(0,i.Z)(n,2),t=e[0],u=e[1],h=(0,r.useState)([]),x=(0,i.Z)(h,2),p=x[0],Z=x[1],j=(0,r.useState)({question1:"",question2:"",question3:""}),f=(0,i.Z)(j,2),m=f[0],v=f[1],g=(0,r.useState)(!1),k=(0,i.Z)(g,2),C=k[0],w=k[1],I=(0,r.useState)(0),A=(0,i.Z)(I,2),q=A[0],P=A[1],R=(0,S.cl)(),F=(0,o.s0)(),M=(0,o.UO)();return(0,r.useEffect)((function(){s.Z.get("".concat("https://54.243.183.19.nip.io","/apply/applicants/").concat(M.id),{headers:{Authorization:R()}}).then((function(n){u(n.data)})),s.Z.get("".concat("https://54.243.183.19.nip.io","/club/form?clubId=").concat(M.id)).then((function(n){v(n.data)}))}),[]),(0,b.jsxs)(c.Z,{maxWidth:"md",sx:{height:"80vh",display:"flex",flexDirection:"column",justifyContent:"end",alignItems:"center"},children:[(0,b.jsx)(l.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:(0,b.jsx)(l.ZP,{item:!0,xs:12,children:(0,b.jsx)(y,{items:t,title:"\uc9c0\uc6d0\uc790 \ubaa9\ub85d",selectedItems:p,setSelectedItems:Z,BulkActions:(0,b.jsx)(T,{selectedApplicants:p}),properties:[{header:"\uc774\ub984",property:"name"},{header:"\ud559\ubc88",property:"studentId"},{header:"\ud559\uacfc",property:"department"},{header:"\uc5f0\ub77d\ucc98",property:"phoneNumber"},{header:"\uc774\uba54\uc77c",property:"email"}],handleClick:function(n){P(n),w(!0)}})})}),(0,b.jsx)(a.Z,{m:2,children:(0,b.jsx)(d.Z,{variant:"outlined",onClick:function(){F(-1)},children:"\ub4a4\ub85c \uac00\uae30"})}),(0,b.jsx)(G,{open:C,onClose:function(){return w(!1)},questions:m,Applicants:t,current:q})]})}}}]);
//# sourceMappingURL=230.99ad7b9d.chunk.js.map